<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst Universe | LDAP authentication</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst Universe - LDAP authentication">
    <meta property="og:description" content="Starburst Universe - your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/logo/starburst-reverse.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body><div class="wrap"><header style="padding-top:86px;">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <a class="navbar-brand" href="/starburst-galaxy/index.html">
      <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst Universe">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/starburst-galaxy/index.html">Starburst Galaxy</a>
        </li>
        <!--<li class="nav-item">
          <a class="nav-link"  href="/about.html">About</a>
        </li>-->
      </ul>
    </div>
  </nav>
</header>
<div class="container spacer-60">



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/starburst-galaxy/"
        style="text-transform: uppercase"
      > starburst galaxy</a> >
    
  
    
      LDAP authentication
    
  </p>
</div>
<h1>LDAP authentication</h1>
<p>The LDAP service enables Presto clients to authenticate over HTTPS by sending
their username and password to a coordinator for external credential validation.</p>
<p>Presto clients include the <a href="https://docs.starburstdata.com/338-e/security/ldap.html#cli-ldap">Presto CLI</a>, or the JDBC and ODBC drivers.</p>
<table width="50%">
<tr>
<th>Field</th>
<th>Definition</th>
</tr>
<tr>
<td>URL</td>
<td>The location of your LDAP server</td>
</tr>
<tr>
<td>User bind pattern</td>
<td>The LDAP user bind string for password authentication to authenticate clients</td>
</tr>
<tr>
<td>Allow insecure</td>
<td></td>
</tr>
<tr>
<td>Cache TTL</td>
<td>The authentication sync interval</td>
</tr>
</table>
<!-- ## Configure LDAP properties

URL: what is a LDAP auth URL and where can a customer find it?

User bind pattern: What is it and where can a customer find it?

Allow insecure (show more options): why should a customer select this, will the
process work if they don't?

Cache TTL: hours/minutes is there a best practice?
 
## Presto server configuration 

Configure the Presto coordinator to allow LDAP authentication. This enables
authenticated communication between the clients and the coordinator.

LDAP authentication doesn't include communication to or from the worker. If you
want to secure communications between Presto nodes with SSL/TSL, separately
configure [secure internal communication](https://docs.starburstdata.com/338-e/security/internal-communication.html).

### Secure LDAP

Presto requires Secure LDAP (LDAPS), confirm you have TLS enabled on your
LDAP server.

## Configure Presto coordinator node

LDAP authentication is configured on the coordinator in two places:

1. The `config.properties` file
2. The password authenticator plugin

For the plugin, configure LDAP as the password authenticator.

### Server properties

In the `config.properties` file, enable HTTPS support and password
authentication. To access the Presto coordinator with HTTPS, create a Java
keystore file for TLS on the coordinator.

Example of the required `config.properties` file:

```
http-server.authentication.type=PASSWORD

http-server.https.enabled=true
http-server.https.port=8443

http-server.https.keystore.path=/etc/presto_keystore.jks
http-server.https.keystore.key=keystore_password
```

### Password authenticator

Configure your password authentication using LDAP with a
`etc/password-authenticator.properties` file on the coordinator. 

Example of the required properties:

```
password-authenticator.name=ldap
ldap.url=ldaps://ldap-server:636
ldap.ssl-trust-certificate=/path/to/ldap_server.crt
ldap.user-bind-pattern=<Refer below for usage>
```
Based on the LDAP server implementation type, use the property
`ldap.user-bind-pattern` as described below:

- Active directory: `ldap.user-bind-pattern=${USER}@<domain_name_of_the_server>`
    - Example: `ldap.user-bind-pattern=${USER}@corp.example.com`
- OpenLDAP: `ldap.user-bind-pattern=uid=${USER},<distinguished_name_of_the_user>`
    - Example: `ldap.user-bind-pattern=uid=${USER},OU=America,DC=corp,DC=example,DC=com`

-->

    </div>
    <div style="margin-bottom:50px;"></div>
</div><footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <p>Resources</p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburstdata.com/latest/index.html" target="_blank">Starburst Enterprise Presto reference documentation</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/oreilly-presto-guide-download/" target="_blank">Free O'Reilly book - Presto: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://prestosql.io/broadcast/" target="_blank">Presto Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-4">
      <p>Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburstdata.com/weekly-demo-registration/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="https://starburstsupport.force.com/s/" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-2">
        <p>Follow us</p>
        <ul>
          <li class="footer-item"><a href="https://twitter.com/starburstdata" target="_blank"><i class="fab fa-twitter fa-2x" style="color: white;"></i></a></li>
          <li class="footer-item"><a href="https://linkedin.com/starburstdata" target="_blank"><i class="fab fa-linkedin fa-2x" style="color: white;"></i></a></li>
          <li class="footer-item"><a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank"><i class="fab fa-youtube fa-2x" style="color: white;"></i></a></li>
          <li class="footer-item"><a href="https://github.com/starburstdata" target="_blank"><i class="fab fa-github fa-2x" style="color: white;"></i></a></li>
        </ul>
      </div>

      <div class="col-md-2" style="text-align:right;">
        <img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst Universe" style="margin-bottom:20px;">
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright 2017 - 2020, Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>


    </div>
  </div>
</footer>

  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
</body>
</html>