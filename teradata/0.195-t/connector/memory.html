

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.10. Memory Connector &mdash; Teradata Distribution of Presto 0.195-t.0.9 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Teradata Distribution of Presto 0.195-t.0.9 Documentation" href="../index.html"/>
        <link rel="up" title="11. Teradata Supported Connectors" href="../connector.html"/>
        <link rel="next" title="11.11. MySQL Connector" href="mysql.html"/>
        <link rel="prev" title="11.9. Local File Connector" href="localfile.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.195-t.0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">4. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">5. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">6. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presto-admin/user-guide.html">7. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">8. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">9. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../querygrid.html">10. Teradata QueryGrid</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">11. Teradata Supported Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">11.1. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">11.2. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">11.3. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">11.4. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">11.5. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">11.6. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">11.7. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="avro-schema-evolution.html">11.8. Avro Schema Evolution Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">11.9. Local File Connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">11.10. Memory Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">11.11. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">11.12. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">11.13. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">11.14. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="teradata.html">11.15. Teradata Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">11.16. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">11.17. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../community_connector.html">12. Community Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">13. Community Supported Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">18. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">19. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">20. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../limitations.html">21. Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">22. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">11. Teradata Supported Connectors</a> &raquo;</li>
      
    <li>11.10. Memory Connector</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/connector/memory.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="memory-connector">
<h1>11.10. Memory Connector</h1>
<p>The Memory connector stores all data and metadata in RAM on workers
and both are discarded when Presto restarts.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This connector is in early experimental stage it is not recommended
to use it in a production environment. The intended use of this
connector at this point is purely for testing.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">After <code class="docutils literal"><span class="pre">DROP</span> <span class="pre">TABLE</span></code> memory is not released immediately. It is released
after next write access to memory connector.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When one worker fails/restarts all data that were stored in it&#8217;s
memory will be lost forever. To prevent silent data loss this
connector will throw an error on any read access to such corrupted
table.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When query fails for any reason during writing to memory table,
table will be in undefined state. Such table should be dropped and
recreated manually. Reading attempt from such table may fail or may
return partial data.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When coordinator fails/restarts all metadata about tables will
be lost, but tables&#8217; data will be still present on the workers
however they will be inaccessible.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This connector will not work properly with multiple coordinators,
since each coordinator will have a different metadata.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration</h2>
<p>To configure the Memory connector, create a catalog properties file
<code class="docutils literal"><span class="pre">~/.prestoadmin/catalog/memory.properties</span></code> with the following contents:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>connector.name=memory
memory.max-data-per-node=128MB
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">memory.max-data-per-node</span></code> defines memory limit for pages stored in this
connector per each node (default value is 128MB).</p>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<p>Create a table using the Memory connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">memory</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">nation</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tpch</span><span class="p">.</span><span class="n">tiny</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>Insert data into a table in the Memory connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">memory</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">nation</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tpch</span><span class="p">.</span><span class="n">tiny</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>Select from the Memory connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">memory</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>Drop table:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">DROP</span> <span class="k">TABLE</span> <span class="n">memory</span><span class="p">.</span><span class="k">default</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mysql.html" class="btn btn-neutral float-right" title="11.11. MySQL Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="localfile.html" class="btn btn-neutral" title="11.9. Local File Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.195-t.0.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>