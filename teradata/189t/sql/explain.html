

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>16.20. EXPLAIN &mdash; Teradata Distribution of Presto 0.189-t.0.6 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/teradata.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Teradata Distribution of Presto 0.189-t.0.6 Documentation" href="../index.html"/>
        <link rel="up" title="16. SQL Statement Syntax" href="../sql.html"/>
        <link rel="next" title="16.21. EXPLAIN ANALYZE" href="explain-analyze.html"/>
        <link rel="prev" title="16.19. EXECUTE" href="execute.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Teradata Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.189-t.0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">4. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">5. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">6. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presto-admin/user-guide.html">7. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">8. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">9. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../querygrid.html">10. Teradata QueryGrid</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">11. Teradata Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community_connector.html">12. Community Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">13. Community Supported Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="alter-schema.html">16.1. ALTER SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="alter-table.html">16.2. ALTER TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="call.html">16.3. CALL</a></li>
<li class="toctree-l2"><a class="reference internal" href="commit.html">16.4. COMMIT</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-role.html">16.5. CREATE ROLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-schema.html">16.6. CREATE SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table.html">16.7. CREATE TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-table-as.html">16.8. CREATE TABLE AS</a></li>
<li class="toctree-l2"><a class="reference internal" href="create-view.html">16.9. CREATE VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="deallocate-prepare.html">16.10. DEALLOCATE PREPARE</a></li>
<li class="toctree-l2"><a class="reference internal" href="delete.html">16.11. DELETE</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe.html">16.12. DESCRIBE</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe-input.html">16.13. DESCRIBE INPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="describe-output.html">16.14. DESCRIBE OUTPUT</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-role.html">16.15. DROP ROLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-schema.html">16.16. DROP SCHEMA</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-table.html">16.17. DROP TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="drop-view.html">16.18. DROP VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="execute.html">16.19. EXECUTE</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">16.20. EXPLAIN</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">See Also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="explain-analyze.html">16.21. EXPLAIN ANALYZE</a></li>
<li class="toctree-l2"><a class="reference internal" href="grant.html">16.22. GRANT</a></li>
<li class="toctree-l2"><a class="reference internal" href="grant-roles.html">16.23. GRANT ROLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="insert.html">16.24. INSERT</a></li>
<li class="toctree-l2"><a class="reference internal" href="prepare.html">16.25. PREPARE</a></li>
<li class="toctree-l2"><a class="reference internal" href="reset-session.html">16.26. RESET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="revoke.html">16.27. REVOKE</a></li>
<li class="toctree-l2"><a class="reference internal" href="revoke-roles.html">16.28. REVOKE ROLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="rollback.html">16.29. ROLLBACK</a></li>
<li class="toctree-l2"><a class="reference internal" href="select.html">16.30. SELECT</a></li>
<li class="toctree-l2"><a class="reference internal" href="set-role.html">16.31. SET ROLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="set-session.html">16.32. SET SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-catalogs.html">16.33. SHOW CATALOGS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-columns.html">16.34. SHOW COLUMNS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-create-table.html">16.35. SHOW CREATE TABLE</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-create-view.html">16.36. SHOW CREATE VIEW</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-functions.html">16.37. SHOW FUNCTIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-grants.html">16.38. SHOW GRANTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-partitions.html">16.39. SHOW PARTITIONS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-role-grants.html">16.40. SHOW ROLE GRANTS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-roles.html">16.41. SHOW ROLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-schemas.html">16.42. SHOW SCHEMAS</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-session.html">16.43. SHOW SESSION</a></li>
<li class="toctree-l2"><a class="reference internal" href="show-tables.html">16.44. SHOW TABLES</a></li>
<li class="toctree-l2"><a class="reference internal" href="start-transaction.html">16.45. START TRANSACTION</a></li>
<li class="toctree-l2"><a class="reference internal" href="use.html">16.46. USE</a></li>
<li class="toctree-l2"><a class="reference internal" href="values.html">16.47. VALUES</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">18. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">19. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../limitations.html">20. Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">21. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Teradata Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../sql.html">16. SQL Statement Syntax</a> &raquo;</li>
      
    <li>16.20. EXPLAIN</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/sql/explain.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="explain">
<h1>16.20. EXPLAIN</h1>
<div class="section" id="synopsis">
<h2>Synopsis</h2>
<div class="highlight-none"><div class="highlight"><pre><span></span>EXPLAIN [ ( option [, ...] ) ] statement

where option can be one of:

    FORMAT { TEXT | GRAPHVIZ }
    TYPE { LOGICAL | DISTRIBUTED | VALIDATE }
</pre></div>
</div>
</div>
<div class="section" id="description">
<h2>Description</h2>
<p>Show the logical or distributed execution plan of a statement, or validate the statement.
Use <code class="docutils literal"><span class="pre">TYPE</span> <span class="pre">DISTRIBUTED</span></code> option to display fragmented plan. Each plan fragment is executed by
a single or multiple Presto nodes. Fragments separation represent the data exchange between Presto nodes.
Fragment type specifies how the fragment is executed by Presto nodes and how the data is
distributed between fragments:</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">SINGLE</span></code></dt>
<dd>Fragment is executed on a single node.</dd>
<dt><code class="docutils literal"><span class="pre">HASH</span></code></dt>
<dd>Fragment is executed on a fixed number of nodes with the input data
distributed using a hash function.</dd>
<dt><code class="docutils literal"><span class="pre">ROUND_ROBIN</span></code></dt>
<dd>Fragment is executed on a fixed number of nodes with the input data
distributed in a round-robin fashion.</dd>
<dt><code class="docutils literal"><span class="pre">BROADCAST</span></code></dt>
<dd>Fragment is executed on a fixed number of nodes with the input data
broadcasted to all nodes.</dd>
<dt><code class="docutils literal"><span class="pre">SOURCE</span></code></dt>
<dd>Fragment is executed on nodes where input splits are accessed.</dd>
</dl>
</div>
<div class="section" id="examples">
<h2>Examples</h2>
<p>Logical plan:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>presto:tiny&gt; EXPLAIN SELECT regionkey, count(*) FROM nation GROUP BY 1;
                                                Query Plan
----------------------------------------------------------------------------------------------------------
 - Output[regionkey, _col1] =&gt; [regionkey:bigint, count:bigint]
         _col1 := count
     - RemoteExchange[GATHER] =&gt; regionkey:bigint, count:bigint
         - Aggregate(FINAL)[regionkey] =&gt; [regionkey:bigint, count:bigint]
                count := &quot;count&quot;(&quot;count_8&quot;)
             - LocalExchange[HASH][$hashvalue] (&quot;regionkey&quot;) =&gt; regionkey:bigint, count_8:bigint, $hashvalue:bigint
                 - RemoteExchange[REPARTITION][$hashvalue_9] =&gt; regionkey:bigint, count_8:bigint, $hashvalue_9:bigint
                     - Project[] =&gt; [regionkey:bigint, count_8:bigint, $hashvalue_10:bigint]
                             $hashvalue_10 := &quot;combine_hash&quot;(BIGINT &#39;0&#39;, COALESCE(&quot;$operator$hash_code&quot;(&quot;regionkey&quot;), 0))
                         - Aggregate(PARTIAL)[regionkey] =&gt; [regionkey:bigint, count_8:bigint]
                                 count_8 := &quot;count&quot;(*)
                             - TableScan[tpch:tpch:nation:sf0.1, originalConstraint = true] =&gt; [regionkey:bigint]
                                     regionkey := tpch:regionkey
</pre></div>
</div>
<p>Distributed plan:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>presto:tiny&gt; EXPLAIN (TYPE DISTRIBUTED) SELECT regionkey, count(*) FROM nation GROUP BY 1;
                                          Query Plan
----------------------------------------------------------------------------------------------
 Fragment 0 [SINGLE]
     Output layout: [regionkey, count]
     Output partitioning: SINGLE []
     - Output[regionkey, _col1] =&gt; [regionkey:bigint, count:bigint]
             _col1 := count
         - RemoteSource[1] =&gt; [regionkey:bigint, count:bigint]

 Fragment 1 [HASH]
     Output layout: [regionkey, count]
     Output partitioning: SINGLE []
     - Aggregate(FINAL)[regionkey] =&gt; [regionkey:bigint, count:bigint]
             count := &quot;count&quot;(&quot;count_8&quot;)
         - LocalExchange[HASH][$hashvalue] (&quot;regionkey&quot;) =&gt; regionkey:bigint, count_8:bigint, $hashvalue:bigint
             - RemoteSource[2] =&gt; [regionkey:bigint, count_8:bigint, $hashvalue_9:bigint]

 Fragment 2 [SOURCE]
     Output layout: [regionkey, count_8, $hashvalue_10]
     Output partitioning: HASH [regionkey][$hashvalue_10]
     - Project[] =&gt; [regionkey:bigint, count_8:bigint, $hashvalue_10:bigint]
             $hashvalue_10 := &quot;combine_hash&quot;(BIGINT &#39;0&#39;, COALESCE(&quot;$operator$hash_code&quot;(&quot;regionkey&quot;), 0))
         - Aggregate(PARTIAL)[regionkey] =&gt; [regionkey:bigint, count_8:bigint]
                 count_8 := &quot;count&quot;(*)
             - TableScan[tpch:tpch:nation:sf0.1, originalConstraint = true] =&gt; [regionkey:bigint]
                     regionkey := tpch:regionkey
</pre></div>
</div>
<p>Validate:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>presto:tiny&gt; EXPLAIN (TYPE VALIDATE) SELECT regionkey, count(*) FROM nation GROUP BY 1;
 Valid
-------
 true
</pre></div>
</div>
</div>
<div class="section" id="see-also">
<h2>See Also</h2>
<p><a class="reference internal" href="explain-analyze.html"><span class="doc">EXPLAIN ANALYZE</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="explain-analyze.html" class="btn btn-neutral float-right" title="16.21. EXPLAIN ANALYZE" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="execute.html" class="btn btn-neutral" title="16.19. EXECUTE" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.189-t.0.6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>