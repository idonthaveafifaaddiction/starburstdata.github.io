

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4.7. Configuring Hive Metastore &mdash; Starburst Distribution of Presto 312-e.14 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 312-e.14 Documentation" href="../index.html"/>
        <link rel="up" title="4. Presto on Amazon Web Services" href="../aws.html"/>
        <link rel="next" title="4.8. Accessing the Presto Cluster" href="access.html"/>
        <link rel="prev" title="4.6. Configuring Presto" href="configuration.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                312-e.14
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. License and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">3. Running Presto in a Docker container</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../aws.html">4. Presto on Amazon Web Services</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">4.1. Getting Started: A Quick Guide to Presto on AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="overview.html">4.2. Overview of Presto on AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="prerequisites.html">4.3. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">4.4. Deploying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="deploy_caching.html">4.5. Deploying Presto with Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">4.6. Configuring Presto</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.7. Configuring Hive Metastore</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#none">None</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standalone-ephemeral">Standalone (ephemeral)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#aws-glue-data-catalog">AWS Glue Data Catalog</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-mysql-rdbms">External MySQL RDBMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-postgresql-rdbms">External PostgreSQL RDBMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#external-hive-metastore-service">External Hive Metastore Service</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="access.html">4.8. Accessing the Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">4.9. Querying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="s3.html">4.10. Querying AWS S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="glue.html">4.11. AWS Glue Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="superset.html">4.12. Using Apache Superset</a></li>
<li class="toctree-l2"><a class="reference internal" href="manualscale.html">4.13. Manual Scaling a Running Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="autoscale.html">4.14. Auto Scaling a Running Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="high-availability.html">4.15. Presto Coordinator High Availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="logs.html">4.16. Integration with CloudWatch Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="metrics.html">4.17. Integration with CloudWatch metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">4.18. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="uninstall.html">4.19. Uninstalling Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">4.20. Related Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../azure.html">5. Presto on Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Presto 312e on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation-rpm.html">7. Presto RPM Installation using Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/deployment.html">8. Presto Tarball Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">9. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">10. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">11. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">12. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">13. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">18. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">19. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">20. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../aws.html">4. Presto on Amazon Web Services</a> &raquo;</li>
      
    <li>4.7. Configuring Hive Metastore</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/aws/metastore.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="configuring-hive-metastore">
<h1>4.7. Configuring Hive Metastore</h1>
<p>There are several ways you configure Hive Metastore in Hive connector.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#none" id="id1">None</a></li>
<li><a class="reference internal" href="#standalone-ephemeral" id="id2">Standalone (ephemeral)</a></li>
<li><a class="reference internal" href="#aws-glue-data-catalog" id="id3">AWS Glue Data Catalog</a></li>
<li><a class="reference internal" href="#external-mysql-rdbms" id="id4">External MySQL RDBMS</a></li>
<li><a class="reference internal" href="#external-postgresql-rdbms" id="id5">External PostgreSQL RDBMS</a></li>
<li><a class="reference internal" href="#external-hive-metastore-service" id="id6">External Hive Metastore Service</a></li>
</ul>
</div>
<div class="section" id="none">
<span id="aws-metastore-none"></span><h2>None</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">None</span></code> (which is default configuration), no
Hive connector will be configured.</p>
</div>
<div class="section" id="standalone-ephemeral">
<span id="aws-metastore-standalone"></span><h2>Standalone (ephemeral)</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">Standalone</span> <span class="pre">(ephemeral)</span></code> a separate EC2 instance will be
created by CFT which will contain both Hive Metastore and its underlying RDBMS.</p>
<p>Notice that information stored in such Metastore lives as long as Presto Cluster. Because of that
such configuration should be avoid on production system, while it is the best option to play
with Presto and Hive connector.</p>
</div>
<div class="section" id="aws-glue-data-catalog">
<span id="aws-metastore-glue"></span><h2>AWS Glue Data Catalog</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">AWS</span> <span class="pre">Glue</span> <span class="pre">Data</span> <span class="pre">Catalog</span></code> Hive connector will
use AWS Glue Data Catalog as its Metastore service.</p>
</div>
<div class="section" id="external-mysql-rdbms">
<span id="aws-metastore-mysql"></span><h2>External MySQL RDBMS</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">External</span> <span class="pre">MySQL</span> <span class="pre">RDBMS</span></code> a separate EC2 instance will be created by CFT which will run
Hive Metastore service that will leverage external <strong>MySQL</strong> RDBMS as its underlying storage. This new instance will
need network access to the external MySQL system. So make sure to set up your networking and security groups
appropriately. You can use your own MySQL instance you manage. However, we recommend using AWS RDS.</p>
<dl class="docutils">
<dt>This configuration requires the below properties to be set:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">ExternalMetastoreHost</span></code> with host address where <strong>MySQL</strong> service is running</li>
<li><code class="docutils literal"><span class="pre">ExternalMetastorePort</span></code> with port number of <strong>MySQL</strong> service. If <code class="docutils literal"><span class="pre">0</span></code> is set then <code class="docutils literal"><span class="pre">3306</span></code> (default <strong>MySQL</strong> port) will be used.</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastoreUserName</span></code> with <strong>MySQL</strong> user name</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastorePassword</span></code> with <strong>MySQL</strong> user password</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastoreDatabaseName</span></code> with <strong>MySQL</strong> database name that will be used for storing Hive Metastore data.</li>
</ul>
</dd>
</dl>
<p>RDBMS does not require any schema initialization other than database creation.
It is well suited for <strong>MySQL</strong> provisioned with AWS RDS service.</p>
</div>
<div class="section" id="external-postgresql-rdbms">
<span id="aws-metastore-psql"></span><h2>External PostgreSQL RDBMS</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">External</span> <span class="pre">PostgreSQL</span> <span class="pre">RDBMS</span></code> a separate EC2 instance will be created by CFT which will
run Hive Metastore service that will leverage external <strong>PostgreSQL</strong> RDBMS as its underlying storage. This new instance
will need network access to the external PostgreSQL system. So make sure to set up your networking and security groups
appropriately. You can use your own PostgreSQL instance you manage. However, we recommend using AWS RDS.</p>
<dl class="docutils">
<dt>This configuration requires the below properties to be set:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">ExternalMetastoreHost</span></code> with host address where <strong>PostgreSQL</strong> service is running</li>
<li><code class="docutils literal"><span class="pre">ExternalMetastorePort</span></code> with port number of <strong>PostgreSQL</strong> service. If <code class="docutils literal"><span class="pre">0</span></code> is set then <code class="docutils literal"><span class="pre">5432</span></code> (default <strong>PostgreSQL</strong> port) will be used.</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastoreUserName</span></code> with <strong>PostgreSQL</strong> user name</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastorePassword</span></code> with <strong>PostgreSQL</strong> user password</li>
<li><code class="docutils literal"><span class="pre">ExternalRdbmsMetastoreDatabaseName</span></code> with <strong>PostgreSQL</strong> database name that will be used for storing Hive Metastore data.</li>
</ul>
</dd>
</dl>
<p>RDBMS does not require any schema initialization other than database creation.
It is well suited for <strong>PostgreSQL</strong> provisioned with AWS RDS service.</p>
</div>
<div class="section" id="external-hive-metastore-service">
<span id="aws-metastore-hive"></span><h2>External Hive Metastore Service</h2>
<p>By choosing <code class="docutils literal"><span class="pre">MetastoreType</span></code> to <code class="docutils literal"><span class="pre">External</span> <span class="pre">Hive</span> <span class="pre">Metastore</span> <span class="pre">Service</span></code> Hive connector will use an existing Hive Metastore Service.</p>
<dl class="docutils">
<dt>This configuration requires the below properties to be set:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">ExternalMetastoreHost</span></code> with host address where <strong>External Hive Metastore Service</strong> service is running</li>
<li><code class="docutils literal"><span class="pre">ExternalMetastorePort</span></code> with port number of <strong>External Hive Metastore Service</strong> service.
If <code class="docutils literal"><span class="pre">0</span></code> is set then <code class="docutils literal"><span class="pre">9083</span></code> (default <strong>Hive Metastore Service</strong> port) will be used.</li>
</ul>
</dd>
</dl>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="access.html" class="btn btn-neutral float-right" title="4.8. Accessing the Presto Cluster" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configuration.html" class="btn btn-neutral" title="4.6. Configuring Presto" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'312-e.14',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>