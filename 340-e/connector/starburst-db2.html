

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>10.2. Starburst IBM DB2 connector &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="10. Connectors" href="../connector.html"/>
        <link rel="next" title="10.3. Starburst Generic JDBC connector" href="starburst-generic-jdbc.html"/>
        <link rel="prev" title="10.1. Starburst connectors overview" href="starburst-connectors.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">3. Clients</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">4. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">5. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">7. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">8. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">9. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">10. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="starburst-connectors.html">10.1. Starburst connectors overview</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">10.2. Starburst IBM DB2 connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-and-configuration">Installation and configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#querying-db2-databases">Querying DB2 databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#type-mapping-for-reading-data">Type mapping for reading data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#type-mapping-for-writing-data">Type mapping for writing data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mapping-datetime-types">Mapping datetime types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-impersonation">User impersonation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-statistics">Table statistics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="starburst-generic-jdbc.html">10.3. Starburst Generic JDBC connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive.html">10.4. Starburst Hive connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-security.html">10.5. Starburst Hive connector security</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-ibm-cos.html">10.6. IBM Cloud Object Storage support for the Hive connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-mapr.html">10.7. MapR Hive support</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-hive-cdp.html">10.8. Cloudera Data Platform support</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-delta-lake.html">10.9. Starburst Delta Lake connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-kafka.html">10.10. Starburst Kafka connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-mysql.html">10.11. Starburst MySQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-oracle.html">10.12. Starburst Oracle connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-postgresql.html">10.13. Starburst PostgreSQL connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-snowflake.html">10.14. Starburst Snowflake connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-sqlserver.html">10.15. Starburst SQL Server connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="starburst-teradata.html">10.16. Starburst Teradata connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="accumulo.html">10.17. Accumulo Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">10.18. BigQuery Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">10.19. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">10.20. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="druid.html">10.21. Druid Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">10.22. Elasticsearch Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="googlesheets.html">10.23. Google Sheets Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">10.24. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-gcs-tutorial.html">10.25. Hive Connector GCS Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">10.26. Hive Connector Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-caching.html">10.27. Hive Connector Storage Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-azure.html">10.28. Hive Connector with Azure Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-alluxio.html">10.29. Hive Connector with Alluxio</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">10.30. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">10.31. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">10.32. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="kinesis.html">10.33. Kinesis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">10.34. Kudu Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">10.35. Local File Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">10.36. Memory Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">10.37. MongoDB Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memsql.html">10.38. MemSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">10.39. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">10.40. Oracle Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="phoenix.html">10.41. Phoenix Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="pinot.html">10.42. Pinot Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">10.43. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="prometheus.html">10.44. Prometheus Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redis.html">10.45. Redis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">10.46. Redshift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">10.47. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">10.48. System Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="thrift.html">10.49. Thrift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">10.50. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">10.51. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">11. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">12. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">13. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">14. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">15. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">16. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">17. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          

        </div>
        <div style="margin-top: 1em; margin-left: 2em;">
          Version <a href="../versions.html">340-e STS and others</a>
          <br><br>
        <span>
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./">Choose another version</option>
    <option value="/338-e/">Latest LTS (338-e)</option>
    <option value="/332-e/">332-e LTS</option>
    <option value="/323-e/">323-e LTS</option>
    <option value="/340-e/">Latest STS (340-e)</option>
    <option value="/339-e/">339-e STS </option>
  </select>
</span>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">340-e STS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html"><span class="section-number">10. </span>Connectors</a> &raquo;</li>
      
    <li><span class="section-number">10.2. </span>Starburst IBM DB2 connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="starburst-ibm-db2-connector">
<h1><span class="section-number">10.2. </span>Starburst IBM DB2 connector<a class="headerlink" href="#starburst-ibm-db2-connector" title="Permalink to this headline">#</a></h1>
<p>The IBM DB2 connector allows querying and creating tables in an external
DB2 database.</p>
<p>The connector supports DB2 11.5 for Linux, Unix, and Windows (LUW).</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#installation-and-configuration" id="id4">Installation and configuration</a></p></li>
<li><p><a class="reference internal" href="#querying-db2-databases" id="id5">Querying DB2 databases</a></p></li>
<li><p><a class="reference internal" href="#type-mapping-for-reading-data" id="id6">Type mapping for reading data</a></p></li>
<li><p><a class="reference internal" href="#type-mapping-for-writing-data" id="id7">Type mapping for writing data</a></p></li>
<li><p><a class="reference internal" href="#mapping-datetime-types" id="id8">Mapping datetime types</a></p></li>
<li><p><a class="reference internal" href="#user-impersonation" id="id9">User impersonation</a></p></li>
<li><p><a class="reference internal" href="#table-statistics" id="id10">Table statistics</a></p></li>
<li><p><a class="reference internal" href="#limitations" id="id11">Limitations</a></p></li>
</ul>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The Starburst IBM DB2 connector requires a valid
<a class="reference internal" href="../installation/license-requirements.html"><span class="doc">Starburst Enterprise Presto license</span></a>.</p>
</div>
<div class="section" id="installation-and-configuration">
<h2>Installation and configuration<a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">#</a></h2>
<p>Any of the below installation and configuration methods require the following
artifacts:</p>
<ul class="simple">
<li><p>DB2 JDBC driver file <code class="docutils literal notranslate"><span class="pre">db2jcc-db2jcc4.jar</span></code> obtained from
<a class="reference external" href="https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads">IBM</a></p></li>
<li><p>JDBC connection details to connect to DB2 in a catalog properties file
(e.g. <code class="docutils literal notranslate"><span class="pre">db2.properties</span></code> for a catalog named <code class="docutils literal notranslate"><span class="pre">db2</span></code>).
File should contain the following contents, replacing the connection properties as appropriate for your setup:</p></li>
</ul>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>connector.name=db2
connection-url=jdbc:db2://HOST:PORT/DATABASE
connection-user=USERNAME
connection-password=PASSWORD
</pre></div>
</div>
<p>The <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/en/SSCRJT_5.0.0/com.ibm.swg.im.infosphere.biginsights.admin.doc/doc/bsql_jdbc.html">DB2 JDBC driver documentation</a>
contains information about format and parameters of the JDBC URL.</p>
<p>To install the DB2 Database connector, use the following steps:</p>
<ol class="arabic simple">
<li><p>Add the DB2 JDBC driver JAR files to the <code class="docutils literal notranslate"><span class="pre">plugin/db2</span></code> directory.</p></li>
<li><p>Add a catalog properties file (e.g. <code class="docutils literal notranslate"><span class="pre">db2.properties</span></code> for a catalog
named <code class="docutils literal notranslate"><span class="pre">db2</span></code>).</p></li>
<li><p>Perform the above steps on every node.</p></li>
<li><p>Restart Presto on every node.</p></li>
</ol>
</div>
<div class="section" id="querying-db2-databases">
<h2>Querying DB2 databases<a class="headerlink" href="#querying-db2-databases" title="Permalink to this headline">#</a></h2>
<p>The DB2 connector provides a schema for each DB2 database. Assuming the catalog
name is <code class="docutils literal notranslate"><span class="pre">db2</span></code>, you can see the available schemas by running <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">SCHEMAS</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">;</span>
</pre></div>
</div>
<p>If you have an DB2 database named <code class="docutils literal notranslate"><span class="pre">web</span></code>, you can view the tables they own by
running <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code>:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">;</span>
</pre></div>
</div>
<p>You can see a list of the columns in the <code class="docutils literal notranslate"><span class="pre">clicks</span></code> table in <code class="docutils literal notranslate"><span class="pre">web</span></code>’s schema
using either of the following:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">COLUMNS</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Finally, you can access the <code class="docutils literal notranslate"><span class="pre">clicks</span></code> table in <code class="docutils literal notranslate"><span class="pre">web</span></code>’s schema:</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Your privileges in these schemas are those of the user configured in the
connection properties file. If the user does not have access to these tables,
you are not able to access them.</p>
</div>
<div class="section" id="type-mapping-for-reading-data">
<h2>Type mapping for reading data<a class="headerlink" href="#type-mapping-for-reading-data" title="Permalink to this headline">#</a></h2>
<p>The connector supports reading the following DB2 types and performs conversion
to Presto types with the detailed mappings.</p>
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">DB2 to Presto type mapping</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>DB2 type</p></td>
<td><p>Presto type</p></td>
<td><p>Notes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NUMERIC</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DECFLOAT(p)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">FLOAT[(p)]</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR</span> <span class="pre">VARYING(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BINARY(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BINARY</span> <span class="pre">VARYING</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">CLOB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BLOB</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ROWID</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(p)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP(3)</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="type-mapping-for-writing-data">
<h2>Type mapping for writing data<a class="headerlink" href="#type-mapping-for-writing-data" title="Permalink to this headline">#</a></h2>
<p>The connector supports writing the following Presto types and performs
conversion to DB2 types with the detailed mappings.</p>
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">Presto to DB2 type mapping</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Presto type</p></td>
<td><p>DB2 type</p></td>
<td><p>Notes</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BOOLEAN</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">INTEGER</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLOAT(23)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">FLOAT(53)</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></p></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td><p>For <code class="docutils literal notranslate"><span class="pre">n</span></code> up to 32704.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CLOB</span></code></p></td>
<td><p>For <code class="docutils literal notranslate"><span class="pre">n</span></code> above 32704.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARCHAR</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CLOB</span></code></p></td>
<td><p>When no bound is given.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">CHAR(n)</span></code></p></td>
<td><p>For <code class="docutils literal notranslate"><span class="pre">n</span></code> up to 255. <code class="docutils literal notranslate"><span class="pre">n</span></code> above 255 is not supported.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">VARBINARY</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">BLOB</span></code></p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIMESTAMP</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">TIME</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></td>
<td><p>See <a class="reference internal" href="#db2-datetime-mapping"><span class="std std-ref">Mapping datetime types</span></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mapping-datetime-types">
<span id="db2-datetime-mapping"></span><h2>Mapping datetime types<a class="headerlink" href="#mapping-datetime-types" title="Permalink to this headline">#</a></h2>
<p>The DB2 connector does not currently support variable-precision timestamps.</p>
<p>Selecting a DB2 timestamp value with fractional second precision greater than 3
truncates (not rounds) the fractional seconds to three digits.</p>
<p>Inserting a <code class="docutils literal notranslate"><span class="pre">TIME</span></code> value with fractional seconds into DB2 truncates (not
rounds) the time to second precision, as DB2 does not support fractional seconds
in <code class="docutils literal notranslate"><span class="pre">TIME</span></code> values.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because of differences in date and time representation in DB2 and JDBC,
attempting to insert or select a datetime value earlier than <code class="docutils literal notranslate"><span class="pre">1582-10-15</span></code>
results in an incorrect date being stored/retrieved.</p>
</div>
</div>
<div class="section" id="user-impersonation">
<h2>User impersonation<a class="headerlink" href="#user-impersonation" title="Permalink to this headline">#</a></h2>
<p>DB2 connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in your catalog file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>db2.impersonation-enabled=true
</pre></div>
</div>
<p>User impersonation is based on <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">SESSION_USER</span></code> <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/en/SSCRJT_6.0.0/com.ibm.swg.im.bigsql.commsql.doc/doc/r0011139.html">detailed in the IBM
documentation</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Running <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">SESSION_USER</span></code> in DB2 requires the user to have a
<code class="docutils literal notranslate"><span class="pre">SETSESSIONUSER</span></code> privilege.</p>
</div>
</div>
<div class="section" id="table-statistics">
<h2>Table statistics<a class="headerlink" href="#table-statistics" title="Permalink to this headline">#</a></h2>
<p>DB2 connector supports table and column statistics. The statistics are
collected by the DB2 database and retrieved by the connector. To collect
statistics for a table, execute the following statements in DB2.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CALL SYSPROC.ADMIN_CMD(&#39;RUNSTATS ON TABLE table_name&#39;);
</pre></div>
</div>
<p>The table statistics can be viewed in Presto using <a class="reference internal" href="../sql/show-stats.html"><span class="doc">SHOW STATS</span></a> and
are used for <a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">Cost based optimizations</span></a>.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">Table statistics configuration properties</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Property name</p></td>
<td><p>Description</p></td>
<td><p>Default</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.enabled</span></code></p></td>
<td><p>Enables table and column statistics</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.cache-ttl</span></code></p></td>
<td><p>Duration for which table and column statistics are cached</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">0s</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">statistics.cache-missing</span></code></p></td>
<td><p>Cache the fact that table statistics are not available</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="limitations">
<h2>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">#</a></h2>
<p>The following SQL statements are not yet supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-view.html"><span class="doc">CREATE VIEW</span></a></p></li>
<li><p><a class="reference internal" href="../sql/drop-view.html"><span class="doc">DROP VIEW</span></a></p></li>
<li><p><a class="reference internal" href="../sql/create-schema.html"><span class="doc">CREATE SCHEMA</span></a></p></li>
<li><p><a class="reference internal" href="../sql/alter-schema.html"><span class="doc">ALTER SCHEMA</span></a></p></li>
<li><p><a class="reference internal" href="../sql/grant.html"><span class="doc">GRANT</span></a></p></li>
<li><p><a class="reference internal" href="../sql/revoke.html"><span class="doc">REVOKE</span></a></p></li>
<li><p><a class="reference internal" href="../sql/show-grants.html"><span class="doc">SHOW GRANTS</span></a></p></li>
<li><p><a class="reference internal" href="../sql/show-roles.html"><span class="doc">SHOW ROLES</span></a></p></li>
<li><p><a class="reference internal" href="../sql/show-role-grants.html"><span class="doc">SHOW ROLE GRANTS</span></a></p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="starburst-generic-jdbc.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="10.3. Starburst Generic JDBC connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starburst-connectors.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="10.1. Starburst connectors overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'340',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>