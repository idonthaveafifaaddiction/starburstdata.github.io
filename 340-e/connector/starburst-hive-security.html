

<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="../_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="../_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="../_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="253746">
  <script src="../_static/javascripts/modernizr.js"></script>
  
  <script>
      window.ga = window.ga || function () {
          (ga.q = ga.q || []).push(arguments)
      };
      ga.l = +new Date;
      ga('create', ' UA-114610397-1', 'auto');
      ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  
  
    <title>Starburst Hive connector security &#8212; Starburst Enterprise Presto</title>
    <link rel="stylesheet" href="../_static/material.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/presto.css" />
    <link rel="stylesheet" type="text/css" href="../_static/starburst.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="IBM Cloud Object Storage support for the Hive connector" href="starburst-hive-ibm-cos.html" />
    <link rel="prev" title="Starburst Hive connector" href="starburst-hive.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary= data-md-color-accent=>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#connector/starburst-hive-security" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../index.html" title="Starburst Enterprise Presto"
           class="md-header-nav__button md-logo">
          
              <img src="../_static/Starburst_Logo_NoTag_White.png" height="26"
                   alt="Starburst Enterprise Presto logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">Starburst Enterprise Presto</span>
          <span class="md-header-nav__topic"> Starburst Hive connector security </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="../search.html" method="GET" name="search">
      <input type="text" class="md-search__input" name="q" placeholder="Search"
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
      
  
  <div class="md-flex__cell md-flex__cell--shrink dropdown">
    <button class="dropdownbutton">Choose another version</button>
    <div class="dropdown-content md-hero">
          <a title="Latest LTS (338-e)" href="/338-e/">Latest LTS (338-e)</a>
      
          <a title="332-e LTS" href="/332-e/">332-e LTS</a>
      
          <a title="323-e LTS" href="/323-e/">323-e LTS</a>
      
          <a title="Latest STS (341-e)" href="/341-e/">Latest STS (341-e)</a>
      
          <a title="340-e STS)" href="/340-e/">340-e STS)</a>
      
    </div>
  </div>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="../connector.html" class="md-tabs__link">Connectors</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../index.html" title="Starburst Enterprise Presto" class="md-nav__button md-logo">
      
        <img src="../_static/Starburst_Logo_NoTag_White.png" alt=" logo" width="48" height="48">
      
    </a>
    <a href="../index.html"
       title="Starburst Enterprise Presto">Starburst Enterprise Presto</a>
  </label>
  

  
  <ul class="md-nav__list">
    <li class="md-nav__item">
    
    
      <a href="../overview.html" class="md-nav__link">Overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../installation.html" class="md-nav__link">Installation</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../client.html" class="md-nav__link">Clients</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../mission-control.html" class="md-nav__link">Mission Control</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../aws.html" class="md-nav__link">Amazon Web Services</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../kubernetes.html" class="md-nav__link">Kubernetes</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../security.html" class="md-nav__link">Security</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../admin.html" class="md-nav__link">Administration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../optimizer.html" class="md-nav__link">Query optimizer</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../connector.html" class="md-nav__link">Connectors</a>
      <ul class="md-nav__list"> 
    <li class="md-nav__item">
    
    
      <a href="starburst-connectors.html" class="md-nav__link">Starburst connectors overview</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-db2.html" class="md-nav__link">Starburst IBM DB2 connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-generic-jdbc.html" class="md-nav__link">Starburst Generic JDBC connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive.html" class="md-nav__link">Starburst Hive connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    <label class="md-nav__link md-nav__link--active" for="__toc"> Starburst Hive connector security </label>
    
      <a href="#" class="md-nav__link md-nav__link--active">Starburst Hive connector security</a>
      
        
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-starburst-hive-security--page-root" class="md-nav__link">Starburst Hive connector security</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#apache-sentry-based-authorization" class="md-nav__link">Apache Sentry Based Authorization</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#sample-configuration" class="md-nav__link">Sample Configuration</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#apache-ranger-based-authorization" class="md-nav__link">Apache Ranger Based Authorization</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#column-masking" class="md-nav__link">Column masking</a>
        </li>
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">Sample configuration</a>
        </li>
        <li class="md-nav__item"><a href="#configuring-ranger-audit" class="md-nav__link">Configuring Ranger Audit</a>
        </li>
        <li class="md-nav__item"><a href="#controlling-access-to-user-defined-functions-with-ranger" class="md-nav__link">Controlling access to User Defined Functions with Ranger</a>
        </li>
        <li class="md-nav__item"><a href="#limitations" class="md-nav__link">Limitations</a>
        </li>
        <li class="md-nav__item"><a href="#hdfs-wire-encryption" class="md-nav__link">HDFS wire encryption</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive-ibm-cos.html" class="md-nav__link">IBM Cloud Object Storage support for the Hive connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive-mapr.html" class="md-nav__link">MapR Hive support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-hive-cdp.html" class="md-nav__link">Cloudera Data Platform support</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-delta-lake.html" class="md-nav__link">Starburst Delta Lake connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-kafka.html" class="md-nav__link">Starburst Kafka connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-mysql.html" class="md-nav__link">Starburst MySQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-oracle.html" class="md-nav__link">Starburst Oracle connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-postgresql.html" class="md-nav__link">Starburst PostgreSQL connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-snowflake.html" class="md-nav__link">Starburst Snowflake connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-sqlserver.html" class="md-nav__link">Starburst SQL Server connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="starburst-teradata.html" class="md-nav__link">Starburst Teradata connectors</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="accumulo.html" class="md-nav__link">Accumulo Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="bigquery.html" class="md-nav__link">BigQuery Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="blackhole.html" class="md-nav__link">Black Hole Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="cassandra.html" class="md-nav__link">Cassandra Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="druid.html" class="md-nav__link">Druid Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="elasticsearch.html" class="md-nav__link">Elasticsearch Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="googlesheets.html" class="md-nav__link">Google Sheets Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="hive.html" class="md-nav__link">Hive Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="jmx.html" class="md-nav__link">JMX Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kafka.html" class="md-nav__link">Kafka Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kinesis.html" class="md-nav__link">Kinesis Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="kudu.html" class="md-nav__link">Kudu Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="localfile.html" class="md-nav__link">Local File Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="memory.html" class="md-nav__link">Memory Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="mongodb.html" class="md-nav__link">MongoDB Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="memsql.html" class="md-nav__link">MemSQL Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="mysql.html" class="md-nav__link">MySQL Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="oracle.html" class="md-nav__link">Oracle connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="phoenix.html" class="md-nav__link">Phoenix Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="pinot.html" class="md-nav__link">Pinot Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="postgresql.html" class="md-nav__link">PostgreSQL Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="prometheus.html" class="md-nav__link">Prometheus Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="redis.html" class="md-nav__link">Redis Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="redshift.html" class="md-nav__link">Redshift Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="sqlserver.html" class="md-nav__link">SQL Server Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="system.html" class="md-nav__link">System Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="thrift.html" class="md-nav__link">Thrift Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tpcds.html" class="md-nav__link">TPCDS Connector</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="tpch.html" class="md-nav__link">TPCH Connector</a>
      
    
    </li></ul>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../functions.html" class="md-nav__link">Functions and operators</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../language.html" class="md-nav__link">SQL language</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../sql.html" class="md-nav__link">SQL statement syntax</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../migration.html" class="md-nav__link">Migration</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../develop.html" class="md-nav__link">Developer guide</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../404.html" class="md-nav__link">-</a>
      
    
    </li>
    <li class="md-nav__item">
    
      <span class="md-nav__link caption"><span class="caption-text">Version information</span></span>
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../versions.html" class="md-nav__link">340-e STS and others</a>
      
    
    </li>
    <li class="md-nav__item">
    
    
      <a href="../release.html" class="md-nav__link">Release notes</a>
      
    
    </li>
  </ul>
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">Contents</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#connector-starburst-hive-security--page-root" class="md-nav__link">Starburst Hive connector security</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#apache-sentry-based-authorization" class="md-nav__link">Apache Sentry Based Authorization</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#sample-configuration" class="md-nav__link">Sample Configuration</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#apache-ranger-based-authorization" class="md-nav__link">Apache Ranger Based Authorization</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#column-masking" class="md-nav__link">Column masking</a>
        </li>
        <li class="md-nav__item"><a href="#id1" class="md-nav__link">Sample configuration</a>
        </li>
        <li class="md-nav__item"><a href="#configuring-ranger-audit" class="md-nav__link">Configuring Ranger Audit</a>
        </li>
        <li class="md-nav__item"><a href="#controlling-access-to-user-defined-functions-with-ranger" class="md-nav__link">Controlling access to User Defined Functions with Ranger</a>
        </li>
        <li class="md-nav__item"><a href="#limitations" class="md-nav__link">Limitations</a>
        </li>
        <li class="md-nav__item"><a href="#hdfs-wire-encryption" class="md-nav__link">HDFS wire encryption</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  
<h1 id="connector-starburst-hive-security--page-root">Starburst Hive connector security<a class="headerlink" href="#connector-starburst-hive-security--page-root" title="Permalink to this headline">#</a></h1>
<p>The Hive connector can be configured to use Apache Sentry <code class="docutils literal notranslate"><span class="pre">sentry</span></code> or Apache
Ranger <code class="docutils literal notranslate"><span class="pre">ranger</span></code> as security backend for Hive object access using the
<code class="docutils literal notranslate"><span class="pre">hive.security</span></code> property in the catalog properties file.</p>
<div class="highlight-properties notranslate"><div class="highlight"><pre><span></span><span class="na">hive.security</span><span class="o">=</span><span class="s">ranger</span>
</pre></div>
</div>
<p>This setup has to be combined with specific properties for the two systems.</p>

<span id="hive-sentry-authorization"></span><h2 id="apache-sentry-based-authorization">Apache Sentry Based Authorization<a class="headerlink" href="#apache-sentry-based-authorization" title="Permalink to this headline">#</a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">sentry</span></code> security is enabled, Presto enforces the same SQL
standard based authorization as Hive does when Sentry is enabled for Hive.</p>
<dl class="simple">
<dt>Sentry authorization information can be accessed by querying the following tables:</dt><dd><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">information_schema.roles</span></code> - return information about all existing roles (equivalent of <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">ROLES</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">information_schema.applicable_roles</span></code> - return roles that are granted to current user</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">information_schema.enabled_roles</span></code> - return a list of roles that currently user is using at the moment (equivalent of <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">CURRENT</span> <span class="pre">USER</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">information_schema.table_privileges</span></code> - return all tables privileges granted to user according to currently enabled roles</p></li>
</ul>
</dd>
</dl>
<p>Presto does not support any modification of authorization policies in Sentry.</p>
<p>Further information is available in the documentation about the <a class="reference internal" href="../security/hive-sentry.html"><span class="doc">Hive level
security with Apache Sentry</span></a>.</p>
<table>
<colgroup>
<col style="width: 39%"/>
<col style="width: 61%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.server</span></code></p></td>
<td><p>The name of the server object in Sentry that Presto will use
to find authorization rules.
This should be set to value of <code class="docutils literal notranslate"><span class="pre">hive.sentry.server</span></code>
from Hive’s configuration XML files.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.admin-user</span></code></p></td>
<td><p>Admin user of Apache Sentry that has <code class="docutils literal notranslate"><span class="pre">ALL</span></code> access to
server object. It is a user that belongs to any group that are
mentioned in <code class="docutils literal notranslate"><span class="pre">sentry.service.admin.group</span></code> property in <code class="docutils literal notranslate"><span class="pre">sentry-site.xml</span></code>
Sentry service configuration file.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.rpc-addresses</span></code></p></td>
<td><p>Address on which sentry RPC is available.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.rpc-port</span></code></p></td>
<td><p>Port at which Sentry is listening.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.authentication-type</span></code></p></td>
<td><p>Authentication method that will be used when connecting to
Sentry service.
Possible values are <code class="docutils literal notranslate"><span class="pre">NONE</span></code> or <code class="docutils literal notranslate"><span class="pre">KERBEROS</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.service-principal</span></code></p></td>
<td><p>Sentry service Kerberos principal that will be used to authenticate
the Sentry service.
This property is only used when <code class="docutils literal notranslate"><span class="pre">sentry.authentication-type=KERBEROS</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.client-principal</span></code></p></td>
<td><p>Sentry client Kerberos principal that will be used to authenticate
the client when connecting to Sentry service.
The primary part of this principal (user) should be
included in <code class="docutils literal notranslate"><span class="pre">sentry.service.allow.connect</span></code> property in <code class="docutils literal notranslate"><span class="pre">sentry-site.xml</span></code>
Sentry service configuration file.
This property is only used when <code class="docutils literal notranslate"><span class="pre">sentry.authentication-type=KERBEROS</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.client-key-tab</span></code></p></td>
<td><p>Sentry client Kerberos keytab file location that will be used to
authenticate the client when connecting to to Sentry service.
This property is only used when <code class="docutils literal notranslate"><span class="pre">sentry.authentication-type=KERBEROS</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.cache-ttl</span></code></p></td>
<td><p>Period where information returned by Sentry will be
cached in Presto. <code class="docutils literal notranslate"><span class="pre">0ms</span></code> disables the cache. By default it is set to <code class="docutils literal notranslate"><span class="pre">1m</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.group-mapping</span></code></p></td>
<td><p>Defines the way how user group are determined.
Possible values are:
- <code class="docutils literal notranslate"><span class="pre">HADOOP_DEFAULT</span></code> user groups will be retrieved from
hadoop client library. You may want to use
<code class="docutils literal notranslate"><span class="pre">sentry.config.resources</span></code> to customize this behaviour.
- <code class="docutils literal notranslate"><span class="pre">SYSTEM</span></code> user groups will be retrieved from operating
system that Presto is running on
- <code class="docutils literal notranslate"><span class="pre">LDAP</span></code> user groups will be retrieved from LDAP.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.url</span></code></p></td>
<td><p>Address of LDAP service when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.user</span></code></p></td>
<td><p>LDAP user name when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.password</span></code></p></td>
<td><p>LDAP user password when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.search-base</span></code></p></td>
<td><p>Configures the search base for the LDAP connection
when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.user-search-filter</span></code></p></td>
<td><p>Additional filters to apply when when searching for users
when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.group-search-filter</span></code></p></td>
<td><p>Additional filters to apply when finding relevant groups
when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.group-member-attribute</span></code></p></td>
<td><p>LDAP attribute to use for determining group membership
when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.ldap.group-name-attribute</span></code></p></td>
<td><p>LDAP attribute to use for identifying a group’s name
when <code class="docutils literal notranslate"><span class="pre">sentry.group-mapping==LDAP</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.group-mapping.cache-ttl</span></code></p></td>
<td><p>Period where group mapping information will be
cached in Presto. <code class="docutils literal notranslate"><span class="pre">0ms</span></code> disables the cache.
By default it is set to <code class="docutils literal notranslate"><span class="pre">1min</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.group-mapping.negative-cache-ttl</span></code></p></td>
<td><p>Period where information about empty group will be
cached in Presto. <code class="docutils literal notranslate"><span class="pre">0ms</span></code> disables the cache.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">sentry.config.resources</span></code></p></td>
<td><p>Additional XML configuration files which will be read before
applying Presto Sentry configuration. Useful for reusing
existing <code class="docutils literal notranslate"><span class="pre">sentry-site.xml</span></code> configuration files.</p></td>
</tr>
</tbody>
</table>

<h3 id="sample-configuration">Sample Configuration<a class="headerlink" href="#sample-configuration" title="Permalink to this headline">#</a></h3>
<p>The following is a sample of a Hive Connector configuration file that is configure to use Apache Sentry for authorization.
It utilizes Kerberos for authentication and LDAP for group mapping.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>connector.name=hive-hadoop2
hive.metastore.uri=thrift://hive-metastore-node:9083

hive.metastore.authentication.type=KERBEROS
hive.metastore.service.principal=hive/hive-metastore-node@EXAMPLE.COM
hive.metastore.client.principal=hive/presto-server-node@EXAMPLE.COM
hive.metastore.client.keytab=/etc/hive/conf/hive.keytab

hive.hdfs.authentication.type=KERBEROS
hive.hdfs.impersonation.enabled=false
hive.hdfs.presto.principal=hdfs/presto-server-node@EXAMPLE.COM
hive.hdfs.presto.keytab=/etc/hadoop/conf/hdfs.keytab

hive.security=sentry

sentry.server=sentryserver
sentry.admin-user=hive
sentry.rpc-addresses=sentry-host-address
sentry.rpc-port=8038

sentry.authentication-type=KERBEROS

sentry.service-principal=sentry/sentry-node@EXAMPLE.COM
sentry.client-principal=presto-server/presto-server-node@EXAMPLE.COM
sentry.client-key-tab=/etc/presto/conf/presto-server.keytab

sentry.group-mapping=LDAP
sentry.ldap.url=ldaps://ldapserver/
sentry.ldap.user=cn=admin,dc=presto,dc=example,dc=com
sentry.ldap.password=secret1234
sentry.ldap.search-base=dc=presto,dc=example,dc=com
sentry.ldap.user-search-filter=(&amp;(objectClass=inetOrgPerson)(uid={0}))
sentry.ldap.group-search-filter=(objectClass=groupOfNames)
sentry.ldap.group-member-attribute=member
sentry.ldap.group-name-attribute=cn

sentry.group-mapping.cache-ttl=10s
</pre></div>
</div>



<span id="hive-ranger-authorization"></span><h2 id="apache-ranger-based-authorization">Apache Ranger Based Authorization<a class="headerlink" href="#apache-ranger-based-authorization" title="Permalink to this headline">#</a></h2>
<p>When <code class="docutils literal notranslate"><span class="pre">ranger</span></code> security is enabled, Presto enforces the same SQL
standard based authorization as Hive does when Ranger is enabled for Hive.</p>
<p>Further information is available in the documentation about the <a class="reference internal" href="../security/hive-ranger.html"><span class="doc">Hive level
security with Apache Ranger</span></a>.</p>
<table id="id2">
<caption><span class="caption-text">Ranger properties</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 20%"/>
<col style="width: 20%"/>
<col style="width: 60%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property name</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.policy-rest-url</span></code></p></td>
<td></td>
<td><p>Address URL of Ranger service</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.service-name</span></code></p></td>
<td></td>
<td><p>Ranger Presto plugin service name</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.authentication-type</span></code></p></td>
<td></td>
<td><p>Authentication method to for connecting to Ranger. Possible values are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BASIC</span></code>, HTTP basic authentication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">KERBEROS</span></code>, Kerberos authentication, notice that
<code class="docutils literal notranslate"><span class="pre">ranger.authentication-type=KERBEROS</span></code> requires the <code class="docutils literal notranslate"><span class="pre">https</span></code>
protocol to be used for the <code class="docutils literal notranslate"><span class="pre">ranger.policy-rest-url</span></code>.</p></li>
</ul>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.presto-plugin-username</span></code></p></td>
<td></td>
<td><p>Ranger Presto plugin user name. This property is used when <code class="docutils literal notranslate"><span class="pre">ranger.</span>
<span class="pre">authentication-type=BASIC</span></code> is set.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.presto-plugin-password</span></code></p></td>
<td></td>
<td><p>Ranger Presto plugin user password. This property is used when
<code class="docutils literal notranslate"><span class="pre">ranger.authentication-type=BASIC</span></code> is set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.kerberos-principal</span></code></p></td>
<td></td>
<td><p>Ranger client Kerberos principal. This property is used when
<code class="docutils literal notranslate"><span class="pre">ranger.authentication-type=KERBEROS</span></code> is set.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.kerberos-keytab</span></code></p></td>
<td></td>
<td><p>Ranger client Kerberos keytab file location. This property is used when
<code class="docutils literal notranslate"><span class="pre">ranger.authentication-type=KERBEROS</span></code> is set.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.plugin-policy-ssl-config-file</span></code></p></td>
<td></td>
<td><p>Path to Ranger SSL configuration file. This file is required when
<code class="docutils literal notranslate"><span class="pre">https</span></code> protocol is used for <code class="docutils literal notranslate"><span class="pre">ranger.policy-rest-url</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.policy-refresh-interval</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30s</span></code></p></td>
<td><p>Interval determining how often authorization polices are refreshed. The
highest latency after which changes in Ranger authorization policies are
visible in Presto.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.policy-connection-timeout</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30s</span></code></p></td>
<td><p>Ranger service connection timeout.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.policy-read-timeout</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30s</span></code></p></td>
<td><p>Ranger service read timeout.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.policy-cache-dir</span></code></p></td>
<td></td>
<td><p>Path to ranger cache dir for policies. It allows to load policies from
cache on startup, even though Ranger Policy Admin was not available at
the moment.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.cache-ttl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">30s</span></code></p></td>
<td><p>Period how long group mapping information is cached in Presto. <code class="docutils literal notranslate"><span class="pre">0ms</span></code>
disables the cache.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.cache-refresh-interval</span></code></p></td>
<td><p>Disabled, <code class="docutils literal notranslate"><span class="pre">0ms</span></code></p></td>
<td><p>Period how long group mapping information is refreshed in Presto. Any
value greater than <code class="docutils literal notranslate"><span class="pre">ranger.cache-ttl</span></code> disables it.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.row-filtering.enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>To enable row filtering set this flag to <code class="docutils literal notranslate"><span class="pre">true</span></code>. Note that there are
semantic differences between Presto SQL and Hive QL.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.wild-card-resource-matching-for-row-filtering</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>To enable resource wild card matching for row filtering set this flag to
<code class="docutils literal notranslate"><span class="pre">true</span></code>. When two policies are matching single resource, the one without
wildcards is used. When multiple wildcard policies match, it is
undetermined which one is used.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.wild-card-resource-matching-for-column-masking</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
<td><p>To enable resource wild card matching for column masking set this flag to
<code class="docutils literal notranslate"><span class="pre">true</span></code>. When two policies are matching single resource, the one without
wildcards is used. When multiple wildcard policies match, it is
undetermined which one is used.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.config-resources</span></code></p></td>
<td></td>
<td><p>Additional XML configuration files which is read before applying Presto
Ranger configuration. Useful for reusing existing Hive Ranger
configuration with things like Ranger Audit configuration.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ranger.sql.enabled</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p></td>
<td><p>Enable <a class="reference internal" href="../security/hive-ranger.html#hive-ranger-sql"><span class="std std-ref">Ranger policy management with SQL</span></a>.</p></td>
</tr>
</tbody>
</table>

<h3 id="column-masking">Column masking<a class="headerlink" href="#column-masking" title="Permalink to this headline">#</a></h3>
<p>Presto Hive Ranger integration supports most of the column masking methods that are supported in Hive with Ranger.
Presto does not distinguish upper case, lower case and digital characters when masking.
<code class="docutils literal notranslate"><span class="pre">x</span></code> is used for all mentioned character types.</p>


<h3 id="id1">Sample configuration<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<p>The following is a sample of a Hive Connector configuration file that is configured to use Apache Ranger for
authorization. It utilizes Kerberos for authentication.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>connector.name=hive-hadoop2
hive.metastore.uri=thrift://hive-metastore-node:9083

hive.metastore.authentication.type=KERBEROS
hive.metastore.service.principal=hive/hive-metastore-node@EXAMPLE.COM
hive.metastore.client.principal=hive/presto-server-node@EXAMPLE.COM
hive.metastore.client.keytab=/etc/hive/conf/hive.keytab

hive.hdfs.authentication.type=KERBEROS
hive.hdfs.impersonation.enabled=false
hive.hdfs.presto.principal=hdfs/presto-server-node@EXAMPLE.COM
hive.hdfs.presto.keytab=/etc/hadoop/conf/hdfs.keytab

hive.security=ranger

ranger.policy-rest-url=https://ranger-host:6182
ranger.service-name=hive

ranger.authentication-type=KERBEROS
ranger.kerberos-principal=presto-server/presto-server-node@EXAMPLE.COM
ranger.kerberos-keytab=/etc/presto/conf/presto-server.keytab
ranger.plugin-policy-ssl-config-file=/etc/hive/conf/ranger-policymgr-ssl.xml
</pre></div>
</div>
<p>The following is a sample of Ranger SSL configuration file.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&lt;configuration&gt;
    &lt;!--  The following properties are used for 2-way SSL client server validation --&gt;
    &lt;property&gt;
        &lt;name&gt;xasecure.policymgr.clientssl.keystore&lt;/name&gt;
        &lt;value&gt;/etc/hive/conf/ranger-plugin-keystore.jks&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;xasecure.policymgr.clientssl.truststore&lt;/name&gt;
        &lt;value&gt;/etc/hive/conf/ranger-plugin-truststore.jks&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;xasecure.policymgr.clientssl.keystore.credential.file&lt;/name&gt;
        &lt;value&gt;jceks://file/etc/ranger/hivedev/cred.jceks&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;xasecure.policymgr.clientssl.truststore.credential.file&lt;/name&gt;
        &lt;value&gt;jceks://file/etc/ranger/hivedev/cred.jceks&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</pre></div>
</div>


<span id="ranger-audit"></span><h3 id="configuring-ranger-audit">Configuring Ranger Audit<a class="headerlink" href="#configuring-ranger-audit" title="Permalink to this headline">#</a></h3>
<p>Ranger Audit is configured in the Ranger-specific file
<code class="docutils literal notranslate"><span class="pre">/etc/hive/conf/ranger-hive-audit.xml</span></code>. The location of the file has to be
specified in your catalog properties file:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ranger.config-resources=/etc/hive/conf/ranger-hive-audit.xml
</pre></div>
</div>
<p>Audit operates for <a class="reference internal" href="../security/hive-ranger.html"><span class="doc">Hive level security with Apache Ranger</span></a> and <a class="reference internal" href="../security/system-ranger.html#system-ranger-audit"><span class="std std-ref">system level security
with Apache Ranger</span></a>.</p>


<h3 id="controlling-access-to-user-defined-functions-with-ranger">Controlling access to User Defined Functions with Ranger<a class="headerlink" href="#controlling-access-to-user-defined-functions-with-ranger" title="Permalink to this headline">#</a></h3>
<p>Ranger System Access Control is used to enforce User Defined Function (UDF) policies set by Ranger.
A UDF in Presto is deployed as a plugin (<a class="reference internal" href="../develop/functions.html"><span class="doc">Functions</span></a>) and stored in the Presto global
namespace. This global namespace is managed at the System Access Control
(see <a class="reference internal" href="../develop/system-access-control.html"><span class="doc">System Access Control</span></a>) level. This is independent of the Ranger Connector
Access Control used to enforce all other Ranger policies at the catalog level.</p>
<p>The Ranger resource hierarchy for all UDF policies need to have an associated database (or schema)
namespace when creating the policy. Because the global namespace is independent of any connector
namespace, this poses a slight challenge to control access to UDFs using Ranger. To overcome this
you must specify <code class="docutils literal notranslate"><span class="pre">$presto</span></code> as the database name in Ranger. This will keep all Presto
functions are under the <code class="docutils literal notranslate"><span class="pre">$presto</span></code> database in Ranger resource hierarchy.</p>
<p>To configure Ranger System Access Control for User Defined Functions, you need to add the following
to the System Access Control property file. Here is an example <code class="docutils literal notranslate"><span class="pre">etc/access-control.properties</span></code>
below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>access-control.name=ranger-system-access-control
ranger.policy-rest-url=https://ranger-host:6182
ranger.service-name=hive

ranger.authentication-type=KERBEROS
ranger.kerberos-principal=presto-server/presto-server-node@EXAMPLE.COM
ranger.kerberos-keytab=/etc/presto/conf/presto-server.keytab
ranger.plugin-policy-ssl-config-file=/etc/hive/conf/ranger-policymgr-ssl.xml
</pre></div>
</div>
<p>All Ranger properties that are allowed in <code class="docutils literal notranslate"><span class="pre">hive.properties</span></code> are allowed here. However Ranger
properties related to row filtering or column masking are ignored. This additional configuration is
needed because the Ranger System Access Control uses an independent Ranger client from the Ranger
Connector Access Control.</p>
<p>Recall that in Presto only one System Access Control can be defined, while Connector Access
Control can be defined per each Presto catalog. In the scenario where there are multiple Hive
connectors and multiple Ranger services, only one of those Ranger services can be used to managed
the UDF policies.</p>


<h3 id="limitations">Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline">#</a></h3>
<dl class="simple">
<dt>Ranger authorization in Presto has following limitations:</dt><dd><ul class="simple">
<li><p>authorization information cannot be accessed by querying the following tables like:
<code class="docutils literal notranslate"><span class="pre">information_schema.roles</span></code>, <code class="docutils literal notranslate"><span class="pre">information_schema.applicable_roles</span></code>,
<code class="docutils literal notranslate"><span class="pre">information_schema.enabled_roles</span></code>, <code class="docutils literal notranslate"><span class="pre">information_schema.table_privileges</span></code></p></li>
<li><p>Presto does not support any modification of authorization policies in Sentry, this
encloses commands like <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">ROLE...</span></code>, <code class="docutils literal notranslate"><span class="pre">GRANT...</span></code> or <code class="docutils literal notranslate"><span class="pre">REVOKE</span></code>.</p></li>
<li><p>Presto does not support <code class="docutils literal notranslate"><span class="pre">SET</span> <span class="pre">ROLE...</span></code> for Ranger authorization, by default all user applicable roles are enabled.</p></li>
<li><p>In case of usage of unsupported column masking <code class="docutils literal notranslate"><span class="pre">MASK_NULL</span></code> will be used.</p></li>
</ul>
</dd>
</dl>


<h3 id="hdfs-wire-encryption">HDFS wire encryption<a class="headerlink" href="#hdfs-wire-encryption" title="Permalink to this headline">#</a></h3>
<p>In a Kerberized Hadoop cluster with enabled HDFS wire encryption you can enable
Presto to access HDFS by using below property.</p>
<table>
<colgroup>
<col style="width: 47%"/>
<col style="width: 53%"/>
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hive.hdfs.wire-encryption.enabled</span></code></p></td>
<td><p>Enables HDFS wire encryption.
Possible values are <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on Presto installation configuration, using wire encryption may
impact query execution performance.</p>
</div>





          </article>
        </div>
      </div>
    </main>
  </div>

  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="starburst-hive.html" title="Starburst Hive connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> Previous </span> Starburst Hive connector </span>
              </div>
            </a>
          
          
            <a href="starburst-hive-ibm-cos.html" title="IBM Cloud Object Storage support for the Hive connector"
               class="md-flex md-footer-nav__link md-footer-nav__link--next"
               rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span
                class="md-flex__ellipsis"> <span
                class="md-footer-nav__direction"> Next </span> IBM Cloud Object Storage support for the Hive connector </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink"><i
                class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
        </div>
      </div>
    </div>
  </footer>
  <script src="../_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>

<!-- custom footer should go here in time -->

<div style="background: #253746; align-content: center; height: 3em;"> 
</div>
  </body>
</html>