

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Deploying Presto &mdash; Starburst Distribution of Presto 0.213-e.0.7 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 0.213-e.0.7 Documentation" href="../../index.html"/>
        <link rel="up" title="4.2. Presto 208e on Amazon Web Services (Previous Release)" href="../aws-208.html"/>
        <link rel="next" title="Configuring Presto" href="configuration.html"/>
        <link rel="prev" title="Prerequisites" href="prerequisites.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.213-e.0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../system-requirements.html">2. License and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../docker.html">3. Running Presto in a Docker container</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../aws.html">4. Presto 213e on Amazon Web Services</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../whats-new.html">4.1. What&#8217;s New in Presto 213e on AWS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../aws-208.html">4.2. Presto 208e on Amazon Web Services (Previous Release)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="quickstart.html">Getting Started: A Quick Guide to Presto on AWS</a></li>
<li class="toctree-l3"><a class="reference internal" href="overview.html">Overview of Presto on AWS</a></li>
<li class="toctree-l3"><a class="reference internal" href="prerequisites.html">Prerequisites</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Deploying Presto</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#deploying-the-presto-ami-using-aws-ec2-console">Deploying the Presto AMI Using AWS EC2 Console</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deploying-a-presto-cluster-using-cloudformation-template-web-console">Deploying a Presto Cluster Using CloudFormation Template (Web Console)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deploying-a-presto-cluster-using-cloudformation-template-aws-cli">Deploying a Presto Cluster Using CloudFormation Template (AWS CLI)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">Configuring Presto</a></li>
<li class="toctree-l3"><a class="reference internal" href="access.html">Accessing the Presto Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="query.html">Querying Presto</a></li>
<li class="toctree-l3"><a class="reference internal" href="s3.html">Querying AWS S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="metastore.html">Deploying Presto Metastore</a></li>
<li class="toctree-l3"><a class="reference internal" href="glue.html">AWS Glue Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="superset.html">Using Apache Superset</a></li>
<li class="toctree-l3"><a class="reference internal" href="manualscale.html">Manual Scaling a Running Presto Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="autoscale.html">Auto Scaling a Running Presto Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="uninstall.html">Uninstalling Presto</a></li>
<li class="toctree-l3"><a class="reference internal" href="resources.html">Related Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../quickstart.html">4.3. Getting Started: A Quick Guide to Presto on AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html">4.4. Overview of Presto on AWS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prerequisites.html">4.5. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deploy.html">4.6. Deploying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html">4.7. Configuring Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metastore.html">4.8. Configuring Hive Metastore</a></li>
<li class="toctree-l2"><a class="reference internal" href="../access.html">4.9. Accessing the Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query.html">4.10. Querying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3.html">4.11. Querying AWS S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../glue.html">4.12. AWS Glue Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../superset.html">4.13. Using Apache Superset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manualscale.html">4.14. Manual Scaling a Running Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../autoscale.html">4.15. Auto Scaling a Running Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../high-availability.html">4.16. Presto Coordinator High Availability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../logs.html">4.17. Integration with CloudWatch Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metrics.html">4.18. Integration with CloudWatch metrics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html">4.19. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../uninstall.html">4.20. Uninstalling Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../resources.html">4.21. Related Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../azure.html">5. Presto on Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation-rpm.html">6. Presto RPM Installation using Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../installation/deployment.html">7. Presto Tarball Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../client.html">8. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">9. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../admin.html">10. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../connector.html">11. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../functions.html">12. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../language.html">13. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../sql.html">14. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../migration.html">15. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../optimizer.html">16. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../develop.html">17. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">18. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release.html">19. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../../aws.html">4. Presto 213e on Amazon Web Services</a> &raquo;</li>
      
        <li><a href="../aws-208.html">4.2. Presto 208e on Amazon Web Services (Previous Release)</a> &raquo;</li>
      
    <li>Deploying Presto</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../../_sources/aws/aws-208/deploy.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="deploying-presto">
<h1>Deploying Presto</h1>
<p><a class="reference external" href="https://aws.amazon.com/marketplace/pp/B07DKV5659/ref=_ptnr_starburst_docs">Presto on AWS Marketplace</a> is available as both an Amazon Machine Image (AMI) and a CloudFormation template. Launching as an AMI provides a fully functional single node Presto setup &#8211; suitable for trial deployment of Presto in your development environment. The Starburst CloudFormation template is ideal for production deployment by configuring multiple Presto AMIs to form a Presto cluster consisting of a Presto Coordinator and various Presto Workers.</p>
<div class="contents local topic" id="presto-deployment-options">
<p class="topic-title first">Presto Deployment Options</p>
<ul class="simple">
<li><a class="reference internal" href="#deploying-the-presto-ami-using-aws-ec2-console" id="id2">Deploying the Presto AMI Using AWS EC2 Console</a></li>
<li><a class="reference internal" href="#deploying-a-presto-cluster-using-cloudformation-template-web-console" id="id3">Deploying a Presto Cluster Using CloudFormation Template (Web Console)</a></li>
<li><a class="reference internal" href="#deploying-a-presto-cluster-using-cloudformation-template-aws-cli" id="id4">Deploying a Presto Cluster Using CloudFormation Template (AWS CLI)</a></li>
</ul>
</div>
<div class="section" id="deploying-the-presto-ami-using-aws-ec2-console">
<h2><a class="toc-backref" href="#id2">Deploying the Presto AMI Using AWS EC2 Console</a></h2>
<p><strong>1. Launching the AMI</strong></p>
<blockquote>
<div><p>After subscribing to the software, choose &#8216;Launch through EC2&#8217; to launch through the AWS EC2 Console.</p>
<a class="reference internal image-reference" href="../../_images/presto_ami_launch.png"><img alt="../../_images/presto_ami_launch.png" src="../../_images/presto_ami_launch.png" style="width: 1690.0px; height: 1172.0px;" /></a>
<p>This will direct you to the &#8216;Choose an Instance Type&#8217; step. Optionally you can choose &#8216;Copy to Service Catalog&#8217; for when using with the <a class="reference external" href="https://aws.amazon.com/servicecatalog/">AWS Service Catalog</a>.</p>
</div></blockquote>
<dl class="docutils">
<dt><strong>2. Choose an Instance Type</strong></dt>
<dd>Choose an instance type that best suits your workload. The <code class="docutils literal"><span class="pre">r4.4xlarge</span></code> instance type is recommended by default and works well for most workloads. See <a class="reference internal" href="overview.html#aws-recommended-types"><span class="std std-ref">Recommended Instance Types</span></a> to assist you with what instance types may be best for you. Note that a single node Presto instance is typically used for trying Presto in a development environment.</dd>
<dt><strong>3. Configure Instance Details</strong></dt>
<dd><p class="first">Configure your instance to fit your needs. Choose the existing <strong>VPC</strong> and <strong>Subnet</strong> you want to deploy to. And optionally choose an <strong>IAM Role</strong>.
Please refer to the above <a class="reference internal" href="prerequisites.html"><span class="doc">Prerequisites</span></a> for more information on these various specification fields.</p>
<a class="last reference internal image-reference" href="../../_images/presto_ami_configure.png"><img alt="../../_images/presto_ami_configure.png" src="../../_images/presto_ami_configure.png" style="width: 1902.0px; height: 877.0px;" /></a>
</dd>
<dt><strong>4. Add Storage</strong></dt>
<dd>Manage your instance’s storage and add supplementary EBS and instance store volumes as needed. The defaults are generally OK.</dd>
<dt><strong>5. Add Tags</strong></dt>
<dd>Add and create one or more tags. Refer to the link below for more information on <a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">tags</a></dd>
</dl>
<dl class="docutils">
<dt><strong>6. Configure Security Group</strong></dt>
<dd><p class="first">Create or select an existing security group to control traffic to your instance. Note that you are able to choose multiple security group IDs when selecting from the pool of existing security groups. For additional information regarding security groups, please refer to the <a class="reference internal" href="prerequisites.html"><span class="doc">Prerequisites</span></a> section.</p>
<p class="last">It’s recommended that ports 8080 and 8088 are accessible in order to access the Presto Web UI, submit queries from outside the cluster, and access Apache Superset. Additionally, it’s recommended that port 22 is accessible for SSH access.</p>
</dd>
<dt><strong>7.  Review</strong></dt>
<dd>Review the details of your instance. When content, proceed by pressing launch to assign a key pair to the instance and conclude the launch process.</dd>
</dl>
</div>
<div class="section" id="deploying-a-presto-cluster-using-cloudformation-template-web-console">
<h2><a class="toc-backref" href="#id3">Deploying a Presto Cluster Using CloudFormation Template (Web Console)</a></h2>
<dl class="docutils">
<dt><strong>1.  Select Template</strong></dt>
<dd><p class="first">After you subscribe to the Presto offering on AWS Marketplace, you&#8217;ll be able to launch CloudFormation.</p>
<a class="reference internal image-reference" href="../../_images/presto_cft_launch.png"><img alt="../../_images/presto_cft_launch.png" src="../../_images/presto_cft_launch.png" style="width: 1674.0px; height: 878.0px;" /></a>
<p>This will direct you to the &#8216;Select Template&#8217; step for creating a CloudFormation stack. You should find a pre-populated field under &#8216;Amazon S3 template URL&#8217;. This is the location of Starburst&#8217;s Presto CloudFormation template. Click &#8216;next&#8217;.</p>
<p>Optionally you can choose &#8216;Copy to Service Catalog&#8217; for when using with the <a class="reference external" href="https://aws.amazon.com/servicecatalog/">AWS Service Catalog</a>.</p>
<a class="last reference internal image-reference" href="../../_images/presto_cft_select.png"><img alt="../../_images/presto_cft_select.png" src="../../_images/presto_cft_select.png" style="width: 2080.0px; height: 1390.0px;" /></a>
</dd>
<dt><strong>2.  Specify Details</strong></dt>
<dd><p class="first">Proceed by specifying the details of your Presto cluster (CloudFormation stack). This step includes network, EC2 and Presto configurations.</p>
<ul class="last">
<li><p class="first"><strong>Preliminary Details:</strong>
Name your Presto cluster .</p>
<a class="reference internal image-reference" href="../../_images/presto_cft_stackname.png"><img alt="../../_images/presto_cft_stackname.png" src="../../_images/presto_cft_stackname.png" style="width: 2054.0px; height: 394.0px;" /></a>
</li>
<li><p class="first"><strong>Network Configuration:</strong>
Specify your existing <strong>VPC</strong>, <strong>Subnet</strong>, and <strong>Security Groups</strong>.
It is assumed these are preconfigured in your AWS account. See the below Prerequisites sections for more detail:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference internal" href="prerequisites.html#aws-vpc"><span class="std std-ref">VPC &amp; Subnets</span></a></li>
<li><a class="reference internal" href="prerequisites.html#aws-security-groups"><span class="std std-ref">Security Groups</span></a></li>
</ul>
</div></blockquote>
<a class="reference internal image-reference" href="../../_images/presto_cft_network.png"><img alt="../../_images/presto_cft_network.png" src="../../_images/presto_cft_network.png" style="width: 1974.0px; height: 802.0px;" /></a>
</li>
<li><p class="first"><strong>EC2 Configuration:</strong></p>
<p>Choose a <strong>CoordinatorInstanceType</strong> and <strong>WorkerInstanceType</strong> suitable for your workload. The <code class="docutils literal"><span class="pre">r4.4xlarge</span></code> instance types are chosen by default and work well for most workloads. See <a class="reference internal" href="overview.html#aws-recommended-types"><span class="std std-ref">Recommended Instance Types</span></a> to assist you with what instance types may be best for you.</p>
<p>Choose a <strong>KeyName</strong> which is the name of an EC2 KeyPair to enable SSH access to the instance. See <a class="reference internal" href="../prerequisites.html#aws-ssh"><span class="std std-ref">SSH Keys</span></a> for more detail.</p>
<p>Specify the  <strong>WorkersCount</strong> to specify the number of Presto worker nodes for the cluster. Presto worker nodes are added to an AWS AutoScaling Group. See <a class="reference internal" href="../autoscale.html"><span class="doc">Auto Scaling a Running Presto Cluster</span></a> for more detail.</p>
<p>Optionally specificy the <strong>InstanceProfile</strong> to attach to Presto nodes. See <a class="reference internal" href="prerequisites.html#aws-instance-profiles"><span class="std std-ref">Instance Profiles</span></a> for more detail.</p>
<a class="reference internal image-reference" href="../../_images/presto_cft_ec2.png"><img alt="../../_images/presto_cft_ec2.png" src="../../_images/presto_cft_ec2.png" style="width: 1966.0px; height: 944.0px;" /></a>
</li>
<li><p class="first"><strong>Presto Configuration:</strong>
Indicate whether you will be allowing external access on HTTP. By default, this is set to disallow external access for security purposes. However, It is recommended that you enable this feature in order to access Presto from outside of the Presto cluster</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It’s important to make sure your AWS infrastructure is set up in such a way that the Presto is not publicly accessible.</p>
</div>
<p>If you want to use the Hive connector to query data in HDFS or S3, you can include <strong>HiveMetastoreURI</strong> and the CloudFormation template will automatically configure the Hive connector for you.</p>
<p>Lastly, you can optionally specify an <strong>AdditionalConfigurationURI</strong>. This is the location of your customer Presto configuration if you wish to override the default configuration. Typically this is used for advanced setups. Please see the section on Additional Configuration for more detail.</p>
<a class="reference internal image-reference" href="../../_images/presto_cft_configuration.png"><img alt="../../_images/presto_cft_configuration.png" src="../../_images/presto_cft_configuration.png" style="width: 1962.0px; height: 820.0px;" /></a>
</li>
<li><p class="first"><strong>Other:</strong>
Indicate whether you will be launching Apache Superset.</p>
<a class="reference internal image-reference" href="../../_images/presto_cft_superset.png"><img alt="../../_images/presto_cft_superset.png" src="../../_images/presto_cft_superset.png" style="width: 1962.0px; height: 262.0px;" /></a>
</li>
</ul>
</dd>
<dt><strong>3. Options</strong></dt>
<dd>Enter any additional stack specifications as shown on the Options page. These options include adding tags to resources within your cluster, choosing IAM roles, and specifying monitoring time for rollback triggers, among other advanced specifications. For further insight into said options follow the link to the <a class="reference external" href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/Welcome.html">AWS CloudFormation documentation</a>.</dd>
</dl>
<dl class="docutils">
<dt><strong>4. Review</strong></dt>
<dd>Finally, review the details of your Presto cluster. When content, proceed by pressing create to conclude the creation.</dd>
</dl>
</div>
<div class="section" id="deploying-a-presto-cluster-using-cloudformation-template-aws-cli">
<h2><a class="toc-backref" href="#id4">Deploying a Presto Cluster Using CloudFormation Template (AWS CLI)</a></h2>
<p>After subscribing to the software you can optionally launch the Presto cluster using the AWS CLI instead of the AWS Web Console. This is often useful for those wanting to script control of the Presto cluster. Or simply for those more comfortable at the command line.</p>
<dl class="docutils">
<dt><strong>1. Open a Terminal Window</strong></dt>
<dd>Open a terminal window to begin a command line.</dd>
<dt><strong>2. Create Stack</strong></dt>
<dd>Use the create stack command to initiate the creation of your Presto cluster (CloudFormation stack).</dd>
</dl>
<div class="highlight-RST"><div class="highlight"><pre><span></span>create-stack
</pre></div>
</div>
<dl class="docutils">
<dt><strong>3. Name Stack</strong></dt>
<dd>Specify the name that is to be associated with the cluster. The name must be unique in the region in which you are creating the cluster.</dd>
</dl>
<div class="highlight-RST"><div class="highlight"><pre><span></span>--stack-name (string)
</pre></div>
</div>
<dl class="docutils">
<dt><strong>4. Specify Template</strong></dt>
<dd><p class="first">Indicate the template you will be using to create your cluster.</p>
<p class="last">URL:
Specify the location of the file containing the template body. The URL must point to a template that is located in an Amazon S3 bucket.</p>
</dd>
</dl>
<div class="highlight-RST"><div class="highlight"><pre><span></span>--template-url (string)
</pre></div>
</div>
<dl class="docutils">
<dt><strong>5. Specify Parameters</strong></dt>
<dd>Define a list of parameter structures that specify input parameters for the cluster. Reference the following list of possible parameters for your cluster creation.</dd>
</dl>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="41%" />
<col width="32%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter Key</th>
<th class="head">Description</th>
<th class="head">Example Parameter Values</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>VPC</td>
<td>Virtual Private Cloud ID</td>
<td>vpc-4bd6ca11</td>
</tr>
<tr class="row-odd"><td>Subnet</td>
<td>Subnet to use for Presto nodes (must
belong to the selected VPC)</td>
<td>subnet-123abc2b</td>
</tr>
<tr class="row-even"><td>SecurityGroups</td>
<td>Additional Security Groups for Presto
nodes (e.g: allowing SSH access).
Must select at least one.</td>
<td>sg-12e34aeb</td>
</tr>
<tr class="row-odd"><td>CoordinatorInstanceType</td>
<td>EC2 instance type of the coordinator</td>
<td>r4.xlarge
(For a full list see Available
Instance Types under Supported
Instances and Regions)</td>
</tr>
<tr class="row-even"><td>WorkerInstanceType</td>
<td>EC2 instance type of the workers</td>
<td>r4.xlarge
(For a full list see Available
Instance Types under Supported
Instances and Regions)</td>
</tr>
<tr class="row-odd"><td>KeyName</td>
<td>Name of an EC2 KeyPair to enable SSH
access to the instance.</td>
<td>john.smith</td>
</tr>
<tr class="row-even"><td>IamInstanceProfile.</td>
<td>The name of an instance profile to attach
to Presto nodes (Optional)</td>
<td>my-ec2-instance-profile.</td>
</tr>
<tr class="row-odd"><td>WorkersCount</td>
<td>Number of dedicated Presto worker nodes
(apart from coordinator) to instantiate</td>
<td>10</td>
</tr>
<tr class="row-even"><td>LaunchSuperset</td>
<td>When enabled, Superset will be started on
a an EC2 instance</td>
<td>yes</td>
</tr>
<tr class="row-odd"><td>AllowExternalAccessOnHttp</td>
<td>When enabled and instances are assigned
public IP, Presto endpoints will be
available over HTTP without authorization.</td>
<td>no</td>
</tr>
<tr class="row-even"><td>HiveMetastoreURI</td>
<td>URI of Hive Metastore (starting with:
thrift://) (Optional)</td>
<td>thrift://172.31.6.18:9083</td>
</tr>
<tr class="row-odd"><td>AdditionalConfigurationURI</td>
<td>URI of S3 zip file with additional Presto
(Optional)</td>
<td>s3://starburstdata/aws-marketplace
/examples/cft/cloudformation-
template-configuration/0.1/hive-
allow-drop-table.zip</td>
</tr>
</tbody>
</table>
<p>For a more detailed description on the above parameters, please refer to the <a class="reference internal" href="../prerequisites.html"><span class="doc">Prerequisites</span></a> section. Also, parameter values need to be provided on the command line in special form. Please refer to the Example below for guidance.</p>
<p><strong>6. Options</strong></p>
<blockquote>
<div>Rollback:
Set rollback ability to true to disable rollback of the cluster if stack creation failed.</div></blockquote>
<div class="highlight-RST"><div class="highlight"><pre><span></span>--disable-rollback
--no-disable-rollback
</pre></div>
</div>
<div class="highlight-RST"><div class="highlight"><pre><span></span>RollbackTriggers=[{Arn=string,Type=string},{Arn=string,Type=string}],MonitoringTimeInMinutes=integer
</pre></div>
</div>
<dl class="docutils">
<dt><strong>7. Review</strong></dt>
<dd>Finally, review the details of your cluster and your commands. When ready, proceed by pressing enter to conclude the creation of your Presto cluster.</dd>
</dl>
<div class="section" id="example">
<h3>Example</h3>
<p>See the following create-stacks command as a reference for your Presto cluster deployment:</p>
<div class="highlight-RST"><div class="highlight"><pre><span></span>aws cloudformation create-stack \
--stack-name &quot;Presto-cluster&quot; \
--template-url &quot;https://s3.amazonaws.com/awsmp-fulfillment-cf-templates-prod/PrestoCFT.template&quot; \
--parameters \
&quot;ParameterKey=VPC,ParameterValue=vpc-4bd6ca11&quot; \
&quot;ParameterKey=Subnet,ParameterValue=subnet-123abc2b&quot; \
&quot;ParameterKey=SecurityGroups,ParameterValue=sg-12e34aeb&quot; \
&quot;ParameterKey=CoordinatorInstanceType,ParameterValue=r4.xlarge&quot; \
&quot;ParameterKey=WorkersInstanceType,ParameterValue=r4.xlarge&quot; \
&quot;ParameterKey=KeyName,ParameterValue=john.smith&quot; \
&quot;ParameterKey=IamInstanceProfile,ParameterValue=my-ec2-instance-profile&quot; \
&quot;ParameterKey=WorkersCount,ParameterValue=2&quot; \
&quot;ParameterKey=LaunchSuperset,ParameterValue=yes&quot; \
&quot;ParameterKey=AllowExternalAccessOnHttp,ParameterValue=no&quot; \
&quot;ParameterKey=HiveMetastoreURI,ParameterValue=thrift://172.31.6.18:9083&quot; \
&quot;ParameterKey=AdditionalConfigurationURI,ParameterValue=s3://my_bucket/presto-additional-configuration.zip&quot;
</pre></div>
</div>
<p>The above commands yield output like the following:</p>
<div class="highlight-RST"><div class="highlight"><pre><span></span>{
&quot;StackId&quot;:&quot;arn:aws:cloudformation:us-east-1:123456789012:stack/myteststack/466df9e0-0dff-08e3-8e2f-5088487c4896&quot;
}
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuring Presto" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="prerequisites.html" class="btn btn-neutral" title="Prerequisites" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.213-e.0.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>