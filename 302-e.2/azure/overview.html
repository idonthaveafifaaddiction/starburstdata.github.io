

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.1. Overview of Presto on Azure &mdash; Starburst Distribution of Presto 302-e.2 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 302-e.2 Documentation" href="../index.html"/>
        <link rel="up" title="5. Presto on Microsoft Azure" href="../azure.html"/>
        <link rel="next" title="5.2. Deploying Presto" href="deploy.html"/>
        <link rel="prev" title="5. Presto on Microsoft Azure" href="../azure.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                302-e.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. License and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">3. Running Presto in a Docker container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Presto 302e on Amazon Web Services</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../azure.html">5. Presto on Microsoft Azure</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">5.1. Overview of Presto on Azure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#general-description">General Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#releases-software">Releases &amp; Software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#presto-0-213-e">Presto 0.213-e</a></li>
<li class="toctree-l4"><a class="reference internal" href="#apache-superset">Apache Superset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#architecture">Architecture</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-recommendations">Deployment Recommendations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recommended-node-sizes">Recommended Node Sizes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-azure-powershell-and-azure-cli">Using Azure Powershell and Azure CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#presto-support-options">Presto Support Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="deploy.html">5.2. Deploying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">5.3. Configuring Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="access.html">5.4. Accessing the Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">5.5. Querying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="azurestorage.html">5.6. Querying Azure Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="scriptactions.html">5.7. Script Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="superset.html">5.8. Using Apache Superset</a></li>
<li class="toctree-l2"><a class="reference internal" href="scaling.html">5.9. Scaling a Running Presto Cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">5.10. Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="uninstall.html">5.11. Uninstalling Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="resources.html">5.12. Related Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation-rpm.html">6. Presto RPM Installation using Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/deployment.html">7. Presto Tarball Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">8. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">9. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">10. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">11. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">12. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">13. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">14. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">15. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">16. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">17. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">18. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../azure.html">5. Presto on Microsoft Azure</a> &raquo;</li>
      
    <li>5.1. Overview of Presto on Azure</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/azure/overview.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview-of-presto-on-azure">
<h1>5.1. Overview of Presto on Azure</h1>
<div class="section" id="general-description">
<h2>General Description</h2>
<p>Starburst Presto is available on the Azure HDInsight Platform. Azure HDInsight is a fully-managed cloud service that makes it easy, fast, and cost-effective to process massive amounts of data. Presto and HDInsight were both designed for the separation of storage and compute which allows for flexible performance and cost. You pay only for what you use by creating clusters on demand scaling them up and down. You can read more about <a class="reference external" href="https://azure.microsoft.com/en-us/services/hdinsight/">Azure HDInsight from Microsoft</a>.</p>
<p>Presto is deployed as an application on Azure HDInsight and can be configured to immediately start querying data in Azure Storage. This allows you to install Presto on an existing HDInsight cluster or create a new cluster for Presto. Additionally, Presto is able to leverage the external metastore feature on HDInsight and share metadata with other clusters such as Hive and Spark</p>
<p><a class="reference external" href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/starburst.starburst-presto?tab=Overview">Try Presto (213-e) on Microsoft Azure Marketplace!</a></p>
</div>
<div class="section" id="releases-software">
<h2>Releases &amp; Software</h2>
<div class="section" id="presto-0-213-e">
<h3>Presto 0.213-e</h3>
<p>Starburst Presto on Azure HDInsight is based on version 213e. 213e includes many additional features and patches to the prestodb/presto version 0.213. Notably, Presto 213e, includes the state of the art cost based optimizer for fast query results.</p>
</div>
<div class="section" id="apache-superset">
<h3>Apache Superset</h3>
<p>Packaged alongside Presto is the business intelligence tool Apache Superset. Superset is a data exploration and visualization web application that enables users to process data in a variety of ways including writing SQL queries, creating new tables, creating a visualization (slice), adding that visualization to one or many dashboards and downloading a CSV. Superset’s SQL Lab IDE provides the user ways to both query and visualize data. You can explore and preview tables in Presto and effortlessly compose SQL queries to access data. From here, you can export a CSV file or immediately visualize your data in the Superset “Explore” view.</p>
<p>For more information on Apache Superset, please refer to our dedicated section: <a class="reference internal" href="superset.html"><span class="doc">Using Apache Superset</span></a>.</p>
</div>
</div>
<div class="section" id="architecture">
<h2>Architecture</h2>
<p>Starburst Presto is installed as an application on the Azure HDInsight Hadoop Cluster. The Cluster contains 2 HDInsight Head nodes and a variable number of HDInsight Worker nodes. The Presto Coordinator is installed on one of the two HDInsight Head Nodes and the Presto Workers are installed on HDInsight Worker Nodes. When HDInsight is either scaled up or down, Presto will scale with it.</p>
<p>The deployment also includes an HDInsight Edge Node. The Presto command line interface (CLI) and Apache Superset is installed on this node.</p>
</div>
<div class="section" id="deployment-recommendations">
<h2>Deployment Recommendations</h2>
<p>It is highly recommended to not use the Presto HDInsight cluster for anything compute intensive when Presto is in use. Presto is designed to assume full utilization of the system resources to get maximum performance. For example, do not run both Hive jobs and Presto queries simultaneously on the same cluster. However you can run them on the same cluster during different times.</p>
</div>
<div class="section" id="recommended-node-sizes">
<h2>Recommended Node Sizes</h2>
<p>Generally, you should favor clusters with a higher CPU/memory ratio, as Presto is usually bound by CPU. However, machines with larger memory are favorable if one or more of the following cases hold true:</p>
<blockquote>
<div><ul class="simple">
<li>Queries are failing because of exceeding node memory limits</li>
<li>There is high query concurrency and queries are executing in the reserved memory pool</li>
<li>A large number of nodes with lower memory and a higher number of CPUs is required because maximum query memory is very high</li>
<li>Query skewness issues</li>
<li>Presto is not bounded by CPU</li>
</ul>
</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="12%" />
<col width="17%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Instance Family</th>
<th class="head">Category</th>
<th class="head">CPU/Memory Ratio</th>
<th class="head">Use Case</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Fsv2, Fs, F</td>
<td>Compute</td>
<td>High</td>
<td><ul class="first last simple">
<li>Low to medium concurrency</li>
<li>Lower memory-intensive queries without much skewness</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>B, Dsv3, Dv3,
DSv2, Dv2, Av2.</td>
<td>General</td>
<td>Moderate</td>
<td><ul class="first last simple">
<li>Average queries and workloads</li>
<li>Medium concurrency</li>
</ul>
</td>
</tr>
<tr class="row-even"><td>Esv3, Ev3, M,
GS, G, DSv2, Dv2</td>
<td>Memory</td>
<td>Low</td>
<td><ul class="first last simple">
<li>Higher memory intensive queries</li>
<li>High concurrency</li>
<li>When not bounded by CPU</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>For more information refer to Microsoft’s documentation for <a class="reference external" href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/sizes">Virtual Machines and sizes</a></p>
</div>
<div class="section" id="using-azure-powershell-and-azure-cli">
<h2>Using Azure Powershell and Azure CLI</h2>
<p>This guide primarily refers to using the Azure Portal when describing various actions. The same functionality is also available by using Azure Powershell and Azure CLI. Refer to the following documentation from Microsoft on how to manage Azure HDInsight clusters using these tools.</p>
<p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-administer-use-command-line">https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-administer-use-command-line</a></p>
<p><a class="reference external" href="https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-administer-use-powershell">https://docs.microsoft.com/en-us/azure/hdinsight/hdinsight-administer-use-powershell</a></p>
</div>
<div class="section" id="presto-support-options">
<h2>Presto Support Options</h2>
<p>At Starburst we pride ourselves on being the Presto experts. Need support for your organization’s production and development environments for Presto? We have got you covered with 24x7 support as part of our Enterprise Subscription.</p>
<p>Contact us for more information about our <a class="reference external" href="https://www.starburstdata.com/our-offerings/">offerings</a> and explore our other <a class="reference external" href="https://www.starburstdata.com/our-offerings/consulting-training/">services</a> on our website.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deploy.html" class="btn btn-neutral float-right" title="5.2. Deploying Presto" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../azure.html" class="btn btn-neutral" title="5. Presto on Microsoft Azure" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'302-e.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>