

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>18.6. System Access Control &mdash; Starburst Distribution of Presto 0.188-e.0.2 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 0.188-e.0.2 Documentation" href="../index.html"/>
        <link rel="up" title="18. Developer Guide" href="../develop.html"/>
        <link rel="next" title="18.7. Event Listener" href="event-listener.html"/>
        <link rel="prev" title="18.5. Functions" href="functions.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                0.188-e.0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started.html">3. Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">4. Running Presto sandbox in a Docker container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-cluster-manual.html">5. Presto Server Installation on a Cluster (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../server-installation-aws-emr-manual.html">6. Presto Server Installation on an AWS EMR (Presto Admin and RPMs)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">7. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../presto-admin/user-guide.html">8. Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">9. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">10. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">11. Starburst Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../community_connector.html">12. Community Supported Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">13. Community Supported Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../develop.html">18. Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spi-overview.html">18.1. SPI Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="connectors.html">18.2. Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="example-http.html">18.3. Example HTTP Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="types.html">18.4. Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">18.5. Functions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">18.6. System Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#implementation">Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="event-listener.html">18.7. Event Listener</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">19. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../develop.html">18. Developer Guide</a> &raquo;</li>
      
    <li>18.6. System Access Control</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/develop/system-access-control.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="system-access-control">
<h1>18.6. System Access Control</h1>
<p>Presto separates the concept of the principal who authenticates to the
coordinator from the username that is responsible for running queries. When
running the Presto CLI, for example, the Presto username can be specified using
the <code class="docutils literal"><span class="pre">--user</span></code> option.</p>
<p>By default, the Presto coordinator allows any principal to run queries as any
Presto user. In a secure environment, this is probably not desirable behavior
and likely requires customization.</p>
<div class="section" id="implementation">
<h2>Implementation</h2>
<p><code class="docutils literal"><span class="pre">SystemAccessControlFactory</span></code> is responsible for creating a
<code class="docutils literal"><span class="pre">SystemAccessControl</span></code> instance. It also defines a <code class="docutils literal"><span class="pre">SystemAccessControl</span></code>
name which is used by the administrator in a Presto configuration.</p>
<p><code class="docutils literal"><span class="pre">SystemAccessControl</span></code> implementations have several responsibilities:</p>
<ul class="simple">
<li>Verifying whether or not a given principal is authorized to execute queries as a specific user.</li>
<li>Determining whether or not a given user can alter values for a given system property.</li>
<li>Performing access checks across all catalogs. These access checks happen before
any connector specific checks and thus can deny permissions that would otherwise
be allowed by <code class="docutils literal"><span class="pre">ConnectorAccessControl</span></code>.</li>
</ul>
<p>The implementation of <code class="docutils literal"><span class="pre">SystemAccessControl</span></code> and <code class="docutils literal"><span class="pre">SystemAccessControlFactory</span></code>
must be wrapped as a plugin and installed on the Presto cluster.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration</h2>
<p>After a plugin that implements <code class="docutils literal"><span class="pre">SystemAccessControl</span></code> and
<code class="docutils literal"><span class="pre">SystemAccessControlFactory</span></code> has been installed on the coordinator, it is
configured using an <code class="docutils literal"><span class="pre">etc/access-control.properties</span></code> file. All of the properties
other than <code class="docutils literal"><span class="pre">access-control.name</span></code> are specific to the <code class="docutils literal"><span class="pre">SystemAccessControl</span></code>
implementation.</p>
<p>The <code class="docutils literal"><span class="pre">access-control.name</span></code> property is used by Presto to find a registered
<code class="docutils literal"><span class="pre">SystemAccessControlFactory</span></code> based on the name returned by
<code class="docutils literal"><span class="pre">SystemAccessControlFactory.getName()</span></code>. The remaining properties are passed
as a map to <code class="docutils literal"><span class="pre">SystemAccessControlFactory.create()</span></code>.</p>
<p>Example configuration file:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>access-control.name=custom-access-control
custom-property1=custom-value1
custom-property2=custom-value2
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="event-listener.html" class="btn btn-neutral float-right" title="18.7. Event Listener" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="functions.html" class="btn btn-neutral" title="18.5. Functions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.188-e.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>