

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Black Hole Connector &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="9. Connectors" href="../connector.html"/>
        <link rel="next" title="Cassandra Connector" href="cassandra.html"/>
        <link rel="prev" title="BigQuery Connector" href="bigquery.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Presto on Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Presto on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">9. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../connector.html#starburst-connectors-and-connector-extensions">9.1. Starburst Connectors and Connector Extensions</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../connector.html#presto-connectors">9.2. Presto Connectors</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="accumulo.html">Accumulo Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="bigquery.html">BigQuery Connector</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Black Hole Connector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="cassandra.html">Cassandra Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="elasticsearch.html">Elasticsearch Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="googlesheets.html">Google Sheets Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="hive.html">Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="hive-cache.html">Hive Object Caching</a></li>
<li class="toctree-l3"><a class="reference internal" href="hive-gcs-tutorial.html">Hive Connector GCS Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="hive-security.html">Hive Security Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="jmx.html">JMX Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="kafka.html">Kafka Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="kafka-tutorial.html">Kafka Connector Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="kinesis.html">Kinesis Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="kudu.html">Kudu Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="localfile.html">Local File Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="memory.html">Memory Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="mongodb.html">MongoDB Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="memsql.html">MemSQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="mysql.html">MySQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="phoenix.html">Phoenix Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="postgresql.html">PostgreSQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="redis.html">Redis Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="redshift.html">Redshift Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="sqlserver.html">SQL Server Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="system.html">System Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="thrift.html">Thrift Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpcds.html">TPCDS Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="tpch.html">TPCH Connector</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.1 and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">9. Connectors</a> &raquo;</li>
      
    <li>Black Hole Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="black-hole-connector">
<h1>Black Hole Connector<a class="headerlink" href="#black-hole-connector" title="Permalink to this headline">#</a></h1>
<p>Primarily Black Hole connector is designed for high performance testing of
other components. It works like the <code class="docutils literal"><span class="pre">/dev/null</span></code> device on Unix-like
operating systems for data writing and like <code class="docutils literal"><span class="pre">/dev/null</span></code> or <code class="docutils literal"><span class="pre">/dev/zero</span></code>
for data reading. However, it also has some other features that allow testing Presto
in a more controlled manner. Metadata for any tables created via this connector
is kept in memory on the coordinator and discarded when Presto restarts.
Created tables are by default always empty, and any data written to them
is ignored and data reads return no rows.</p>
<p>During table creation, a desired rows number can be specified.
In such cases, writes behave in the same way, but reads
always return the specified number of some constant rows.
You shouldn’t rely on the content of such rows.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This connector does not work properly with multiple coordinators,
since each coordinator has different metadata.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<p>To configure the Black Hole connector, create a catalog properties file
<code class="docutils literal"><span class="pre">etc/catalog/blackhole.properties</span></code> with the following contents:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>connector.name=blackhole
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">#</a></h2>
<p>Create a table using the blackhole connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span> <span class="k">AS</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="n">tpch</span><span class="p">.</span><span class="n">tiny</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>Insert data into a table in the blackhole connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">tpch</span><span class="p">.</span><span class="n">tiny</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>Select from the blackhole connector:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>The above query always returns zero.</p>
<p>Create a table with a constant number of rows (500 * 1000 * 2000):</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span> <span class="p">(</span>
  <span class="n">nationkey</span> <span class="nb">bigint</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">varchar</span>
<span class="p">)</span>
<span class="k">WITH</span> <span class="p">(</span>
  <span class="n">split_count</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
  <span class="n">pages_per_split</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
  <span class="n">rows_per_page</span> <span class="o">=</span> <span class="mi">2000</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Now query it:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span><span class="p">;</span>
</pre></div>
</div>
<p>The above query returns 1,000,000,000.</p>
<p>Length of variable length columns can be controlled using the <code class="docutils literal"><span class="pre">field_length</span></code>
table property (default value is equal to 16):</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">nation</span> <span class="p">(</span>
  <span class="n">nationkey</span> <span class="nb">bigint</span><span class="p">,</span>
  <span class="n">name</span> <span class="nb">varchar</span>
<span class="p">)</span>
<span class="k">WITH</span> <span class="p">(</span>
  <span class="n">split_count</span> <span class="o">=</span> <span class="mi">500</span><span class="p">,</span>
  <span class="n">pages_per_split</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
  <span class="n">rows_per_page</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
  <span class="n">field_length</span> <span class="o">=</span> <span class="mi">100</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The consuming and producing rate can be slowed down
using the <code class="docutils literal"><span class="pre">page_processing_delay</span></code> table property.
Setting this property to <code class="docutils literal"><span class="pre">5s</span></code> leads to a 5 second
delay before consuming or producing a new page:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">blackhole</span><span class="p">.</span><span class="n">test</span><span class="p">.</span><span class="n">delay</span> <span class="p">(</span>
  <span class="n">dummy</span> <span class="nb">bigint</span>
<span class="p">)</span>
<span class="k">WITH</span> <span class="p">(</span>
  <span class="n">split_count</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">pages_per_split</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">rows_per_page</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
  <span class="n">page_processing_delay</span> <span class="o">=</span> <span class="s1">&#39;5s&#39;</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cassandra.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="Cassandra Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bigquery.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="BigQuery Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332-e.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>