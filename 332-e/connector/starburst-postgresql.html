

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Starburst PostgreSQL Connector &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="9. Connectors" href="../connector.html"/>
        <link rel="next" title="Starburst Snowflake Connector" href="starburst-snowflake.html"/>
        <link rel="prev" title="Starburst Oracle Connector" href="starburst-oracle.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">9. Connectors</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../connector.html#starburst-connectors-and-connector-extensions">9.1. Starburst Connectors and Connector Extensions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="starburst-connectors.html">Starburst Connectors Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-db2.html">Starburst DB2 Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-generic-jdbc.html">Starburst Generic JDBC Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive.html">Starburst Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-security.html">Starburst Hive Connector Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-azurestorage.html">Azure Storage Support for the Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-ibm-cos.html">IBM Cloud Object Storage Support for the Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-mapr.html">Starburst Hive MapR Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-delta-lake.html">Starburst Delta Lake Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-kafka.html">Starburst Kafka Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-mysql.html">Starburst MySQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-oracle.html">Starburst Oracle Connector (license required)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Starburst PostgreSQL Connector</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#kerberos-authentication">Kerberos Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#kerberos-credential-passthrough">Kerberos Credential Passthrough</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-impersonation">User Impersonation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#table-statistics">Table Statistics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="starburst-snowflake.html">Starburst Snowflake Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-sqlserver.html">Starburst SQL Server Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-teradata.html">Starburst Teradata Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-teradata-parallel-direct.html">Starburst Teradata Parallel Direct Connector (license required)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../connector.html#presto-connectors">9.2. Presto Connectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.3 LTS and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
          <span class="optional">
  <select name="versions" id="versions" onChange="window.location.href=this.value">
    <option value="./" >Choose another version</option>
    <option value="/latest-lts/">Latest LTS</option>
    <!-- <option value="/latest-sts/">Latest STS</option> -->
    <option value="/332-e/">332-e LTS</option>
    <!-- <option value="/334-e">334-e STS</option> -->
    <option value="/323-e/">323-e LTS</option>
    <option value="/312-e/">312-e LTS</option>
  </select>
</span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">9. Connectors</a> &raquo;</li>
      
    <li>Starburst PostgreSQL Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="starburst-postgresql-connector">
<h1>Starburst PostgreSQL Connector<a class="headerlink" href="#starburst-postgresql-connector" title="Permalink to this headline">#</a></h1>
<p>The Starburst PostgreSQL Connector is an extended version of the
<a class="reference internal" href="postgresql.html"><span class="doc">PostgreSQL Connector</span></a> with configuration and usage identical.</p>
<p>The following improvements are included:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#kerberos-authentication" id="id2">Kerberos Authentication</a></li>
<li><a class="reference internal" href="#kerberos-credential-passthrough" id="id3">Kerberos Credential Passthrough</a></li>
<li><a class="reference internal" href="#user-impersonation" id="id4">User Impersonation</a></li>
<li><a class="reference internal" href="#table-statistics" id="id5">Table Statistics</a></li>
</ul>
</div>
<div class="section" id="kerberos-authentication">
<h2><a class="toc-backref" href="#id2">Kerberos Authentication</a><a class="headerlink" href="#kerberos-authentication" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector supports Kerberos-based authentication with the
following configuration:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>postgresql.authentication.type=KERBEROS
kerberos.client.principal=example@example.com
kerberos.client.keytab=etc/kerberos/example.keytab
kerberos.config=etc/kerberos/krb5.conf
</pre></div>
</div>
<p>With this configuration the user <code class="docutils literal"><span class="pre">example&#64;example.com</span></code>, defined in the
principal property, is used to connect to the database, and the related Kerberos
service ticket is located in the <code class="docutils literal"><span class="pre">example.keytab</span></code> file.</p>
</div>
<div class="section" id="kerberos-credential-passthrough">
<span id="postgresql-kerberos-passthrough"></span><h2><a class="toc-backref" href="#id3">Kerberos Credential Passthrough</a><a class="headerlink" href="#kerberos-credential-passthrough" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector can be configured to pass through Kerberos credentials,
received by Presto, to the PostgreSQL database.</p>
<p>Configure Kerberos and Presto, following the instructions in
<a class="reference internal" href="../security/credential-passthrough.html"><span class="doc">Kerberos Credential Passthrough</span></a>.</p>
<p>Then configure the connector to pass through the credentials from the server to
the database in your catalog properties file and ensure the Kerberos client
configuration properties are in place on all nodes.</p>
<div class="highlight-properties"><div class="highlight"><pre><span></span><span class="na">postgresql.authentication.type</span><span class="o">=</span><span class="s">KERBEROS_PASS_THROUGH</span>
<span class="na">http.authentication.krb5.config</span><span class="o">=</span><span class="s">/etc/krb5.conf</span>
<span class="na">http-server.authentication.krb5.service-name</span><span class="o">=</span><span class="s">exampleServiceName</span>
<span class="na">http-server.authentication.krb5.keytab</span><span class="o">=</span><span class="s">/path/to/Keytab/File</span>
</pre></div>
</div>
<p>Now any database access via Presto is subject to the data access restrictions
and permissions of the user supplied via Kerberos.</p>
</div>
<div class="section" id="user-impersonation">
<h2><a class="toc-backref" href="#id4">User Impersonation</a><a class="headerlink" href="#user-impersonation" title="Permalink to this headline">#</a></h2>
<p>The PostgreSQL connector supports <a class="reference internal" href="../security/impersonation.html"><span class="doc">user impersonation</span></a>.</p>
<p>User impersonation can be enabled in the catalog file:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>postgresql.impersonation.enabled=true
</pre></div>
</div>
<p>User impersonation in PostgreSQL connector is based on <code class="docutils literal"><span class="pre">SET</span> <span class="pre">ROLE</span></code>.
For more details visit: <a class="reference external" href="https://www.postgresql.org/docs/11/sql-set-role.html">www.postgresql.org/docs</a>.</p>
</div>
<div class="section" id="table-statistics">
<h2><a class="toc-backref" href="#id5">Table Statistics</a><a class="headerlink" href="#table-statistics" title="Permalink to this headline">#</a></h2>
<p>PostgreSQL connector supports table and column statistics, as documented in
<a class="reference internal" href="../optimizer/statistics.html"><span class="doc">Table Statistics</span></a>. The statistics are collected by PostgreSQL and
retrieved by the connector. To collect statistics for a table, execute the
following statement in PostgreSQL.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>ANALYZE table_schema.table_name;
</pre></div>
</div>
<p>Refer to PostgreSQL documentation for additional <code class="docutils literal"><span class="pre">ANALYZE</span></code> options.</p>
<p>The table and column statistics can be viewed in Presto using
<a class="reference internal" href="../sql/show-stats.html"><span class="doc">SHOW STATS</span></a> and are used for
<a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">Cost based optimizations</span></a>.</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">Table Statistics Configuration Properties</span><a class="headerlink" href="#id1" title="Permalink to this table">#</a></caption>
<colgroup>
<col width="15%" />
<col width="80%" />
<col width="5%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property Name</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.enabled</span></code></td>
<td>Enables table and column statistics.</td>
<td><code class="docutils literal"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">statistics.cache-ttl</span></code></td>
<td>Duration for which table and column statistics are cached.</td>
<td><code class="docutils literal"><span class="pre">0s</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.cache-missing</span></code></td>
<td>Cache the fact that table statistics are not available.</td>
<td><code class="docutils literal"><span class="pre">false</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="starburst-snowflake.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="Starburst Snowflake Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starburst-oracle.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="Starburst Oracle Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>