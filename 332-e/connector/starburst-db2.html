

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Starburst IBM DB2 Connector &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="9. Connectors" href="../connector.html"/>
        <link rel="next" title="Starburst Generic JDBC Connector" href="starburst-generic-jdbc.html"/>
        <link rel="prev" title="Starburst Connectors Overview" href="starburst-connectors.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mission-control.html">3. Mission Control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">9. Connectors</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../connector.html#starburst-connectors-and-connector-extensions">9.1. Starburst Connectors and Connector Extensions</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="starburst-connectors.html">Starburst Connectors Overview</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Starburst DB2 Connector (license required)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installation-and-configuration">Installation and Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#querying-db2-databases">Querying DB2 Databases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mapping-data-types-between-presto-and-db2">Mapping Data Types Between Presto and DB2</a></li>
<li class="toctree-l4"><a class="reference internal" href="#user-impersonation">User Impersonation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#table-statistics">Table Statistics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#db2-database-connector-limitations">DB2 Database Connector Limitations</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="starburst-generic-jdbc.html">Starburst Generic JDBC Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive.html">Starburst Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-security.html">Starburst Hive Connector Security</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-azurestorage.html">Azure Storage Support for the Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-ibm-cos.html">IBM Cloud Object Storage Support for the Hive Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-hive-mapr.html">Starburst Hive MapR Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-delta-lake.html">Starburst Delta Lake Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-kafka.html">Starburst Kafka Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-mysql.html">Starburst MySQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-oracle.html">Starburst Oracle Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-postgresql.html">Starburst PostgreSQL Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-snowflake.html">Starburst Snowflake Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-sqlserver.html">Starburst SQL Server Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-teradata.html">Starburst Teradata Connector (license required)</a></li>
<li class="toctree-l3"><a class="reference internal" href="starburst-teradata-parallel-direct.html">Starburst Teradata Parallel Direct Connector (license required)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../connector.html#presto-connectors">9.2. Presto Connectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.1 and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">9. Connectors</a> &raquo;</li>
      
    <li>Starburst IBM DB2 Connector</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="starburst-ibm-db2-connector">
<h1>Starburst IBM DB2 Connector<a class="headerlink" href="#starburst-ibm-db2-connector" title="Permalink to this headline">#</a></h1>
<p>The IBM DB2 connector allows querying and creating tables in an external
DB2 database. This can be used to join data between different systems like
DB2 and Hive, or between different DB2 Database instances.</p>
<p>Presto DB2 Connector supports DB2 11.5.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#installation-and-configuration" id="id1">Installation and Configuration</a><ul>
<li><a class="reference internal" href="#prerequisites" id="id2">Prerequisites</a></li>
<li><a class="reference internal" href="#plugin-configuration" id="id3">Plugin Configuration</a></li>
</ul>
</li>
<li><a class="reference internal" href="#querying-db2-databases" id="id4">Querying DB2 Databases</a></li>
<li><a class="reference internal" href="#mapping-data-types-between-presto-and-db2" id="id5">Mapping Data Types Between Presto and DB2</a><ul>
<li><a class="reference internal" href="#db2-to-presto-type-mapping" id="id6">DB2-to-Presto Type Mapping</a></li>
<li><a class="reference internal" href="#mapping-datetime-types" id="id7">Mapping datetime types</a></li>
</ul>
</li>
<li><a class="reference internal" href="#user-impersonation" id="id8">User Impersonation</a></li>
<li><a class="reference internal" href="#table-statistics" id="id9">Table Statistics</a><ul>
<li><a class="reference internal" href="#table-statistics-configuration-properties" id="id10">Table Statistics Configuration Properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#db2-database-connector-limitations" id="id11">DB2 Database Connector Limitations</a><ul>
<li><a class="reference internal" href="#unsupported-statements" id="id12">Unsupported Statements</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation-and-configuration">
<h2><a class="toc-backref" href="#id1">Installation and Configuration</a><a class="headerlink" href="#installation-and-configuration" title="Permalink to this headline">#</a></h2>
<div class="section" id="prerequisites">
<h3><a class="toc-backref" href="#id2">Prerequisites</a><a class="headerlink" href="#prerequisites" title="Permalink to this headline">#</a></h3>
<p>Any of the below installation and configuration methods require the following artifacts:</p>
<ul class="simple">
<li>DB2’s JDBC driver, may be obtained from IBM’s
<a class="reference external" href="https://www.ibm.com/support/pages/db2-jdbc-driver-versions-and-downloads">db2-jdbc-driver-versions-and-downloads</a></li>
<li>Connection details to connect to the DB2, in form of a regular Presto connector config
(e.g. <code class="docutils literal"><span class="pre">db2.properties</span></code> for a Presto catalog named <code class="docutils literal"><span class="pre">db2</span></code>).
File should contain the following contents, replacing the connection properties as appropriate for your setup:</li>
</ul>
<div class="highlight-none"><div class="highlight"><pre><span></span>connector.name=db2
connection-url=jdbc:db2://HOST:PORT/DATABASE
connection-user=USERNAME
connection-password=PASSWORD
</pre></div>
</div>
<p>Please refer to <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/en/SSCRJT_5.0.0/com.ibm.swg.im.infosphere.biginsights.admin.doc/doc/bsql_jdbc.html">DB2 JDBC Driver Documentation</a>
for more information about format and parameters of the JDBC URL supported by the DB2 JDBC Driver.</p>
</div>
<div class="section" id="plugin-configuration">
<h3><a class="toc-backref" href="#id3">Plugin Configuration</a><a class="headerlink" href="#plugin-configuration" title="Permalink to this headline">#</a></h3>
<p>To install the DB2 Database connector manually, use the following directions. You will
need an installation of the Starburst Distribution of Presto and a DB2 JDBC Driver
file (<code class="docutils literal"><span class="pre">db2jcc-db2jcc4.jar</span></code>).</p>
<ol class="arabic simple">
<li>Add the DB2 JDBC Driver JAR files to the Presto <code class="docutils literal"><span class="pre">plugin/db2</span></code> directory.</li>
<li>Add Presto DB2 catalog properties file (eg. <code class="docutils literal"><span class="pre">db2.properties</span></code> for a Presto catalog named <code class="docutils literal"><span class="pre">db2</span></code>).</li>
<li>Perform the above steps on every Presto cluster node.</li>
<li>Restart Presto on every node.</li>
</ol>
</div>
</div>
<div class="section" id="querying-db2-databases">
<h2><a class="toc-backref" href="#id4">Querying DB2 Databases</a><a class="headerlink" href="#querying-db2-databases" title="Permalink to this headline">#</a></h2>
<p>The DB2 connector provides a schema for each DB2 database’s.
Assuming the catalog name is <code class="docutils literal"><span class="pre">db2</span></code>, you can see the available schemas by running
<code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">SCHEMAS</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">;</span>
</pre></div>
</div>
<p>If you have an DB2 database named <code class="docutils literal"><span class="pre">web</span></code>, you can view the tables they
own by running <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">;</span>
</pre></div>
</div>
<p>You can see a list of the columns in the <code class="docutils literal"><span class="pre">clicks</span></code> table in <code class="docutils literal"><span class="pre">web</span></code>’s schema
using either of the following:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">COLUMNS</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Finally, you can access the <code class="docutils literal"><span class="pre">clicks</span></code> table in <code class="docutils literal"><span class="pre">web</span></code>’s schema:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">db2</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Your privileges in these schemas are those of the user configured in the
connection properties file. If the user does not have access to these tables,
you will not be able to access them.</p>
</div>
<div class="section" id="mapping-data-types-between-presto-and-db2">
<h2><a class="toc-backref" href="#id5">Mapping Data Types Between Presto and DB2</a><a class="headerlink" href="#mapping-data-types-between-presto-and-db2" title="Permalink to this headline">#</a></h2>
<p>Because Presto and DB2 each support types that the other does not, the following
type mapping tables apply.</p>
<div class="section" id="db2-to-presto-type-mapping">
<h3><a class="toc-backref" href="#id6">DB2-to-Presto Type Mapping</a><a class="headerlink" href="#db2-to-presto-type-mapping" title="Permalink to this headline">#</a></h3>
<p>Presto supports selecting the following DB2 Database types. The table shows
the mappings from DB2 to Presto data types.</p>
<table border="1" class="colwidths-auto docutils">
<thead valign="bottom">
<tr class="row-odd"><th class="head">DB2 Database type</th>
<th class="head">Presto type</th>
<th class="head">Notes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">NUMERIC</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DECIMAL(p,s)</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DECFLOAT(p)</span></code></td>
<td><code class="docutils literal"><span class="pre">DECIMAL(p,</span> <span class="pre">s)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">FLOAT[(p)]</span></code></td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">REAL</span></code></td>
<td><code class="docutils literal"><span class="pre">REAL</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">TINYINT</span></code></td>
<td><code class="docutils literal"><span class="pre">SMALLINT</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">SMALLINT</span></code></td>
<td><code class="docutils literal"><span class="pre">SMALLINT</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">INT</span></code></td>
<td><code class="docutils literal"><span class="pre">INT</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">BIGINT</span></code></td>
<td><code class="docutils literal"><span class="pre">BIGINT</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DOUBLE</span> <span class="pre">PRECISION</span></code></td>
<td><code class="docutils literal"><span class="pre">DOUBLE</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VARCHAR(n</span> <span class="pre">CHAR)</span></code></td>
<td><code class="docutils literal"><span class="pre">VARCHAR(n)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">CHAR</span> <span class="pre">VARYING(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">VARCHAR(n)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">BINARY(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">VARBINARY</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">BINARY</span> <span class="pre">VARYING</span></code></td>
<td><code class="docutils literal"><span class="pre">VARBINARY</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VARBINARY(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">VARBINARY</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">CHAR(n)</span></code></td>
<td><code class="docutils literal"><span class="pre">CHAR(n)</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">CLOB</span></code></td>
<td><code class="docutils literal"><span class="pre">VARCHAR</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">BLOB</span></code></td>
<td><code class="docutils literal"><span class="pre">VARBINARY</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ROWID</span></code></td>
<td><code class="docutils literal"><span class="pre">VARCHAR</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">DATE</span></code></td>
<td><code class="docutils literal"><span class="pre">DATE</span></code></td>
<td>See <a class="reference internal" href="starburst-oracle.html#datetime-mapping"><span class="std std-ref">Mapping Datetime Types</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">TIMESTAMP(p)</span></code></td>
<td><code class="docutils literal"><span class="pre">TIMESTAMP</span></code></td>
<td>See <a class="reference internal" href="starburst-oracle.html#datetime-mapping"><span class="std std-ref">Mapping Datetime Types</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">TIMESTAMP(p)</span> <span class="pre">WITH</span> <span class="pre">TIME</span>
<span class="pre">ZONE</span></code></td>
<td><code class="docutils literal"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIME</span>
<span class="pre">ZONE</span></code></td>
<td>See <a class="reference internal" href="starburst-oracle.html#datetime-mapping"><span class="std std-ref">Mapping Datetime Types</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mapping-datetime-types">
<span id="db2-datetime-mapping"></span><h3><a class="toc-backref" href="#id7">Mapping datetime types</a><a class="headerlink" href="#mapping-datetime-types" title="Permalink to this headline">#</a></h3>
<p>Selecting a DB2 temporal value with fractional second precision greater than 3
will truncate (not round) the fractional seconds to three digits.</p>
<p>All DB2 <code class="docutils literal"><span class="pre">TIMESTAMP</span></code> values are stored in UTC time zone. When Presto reads these values from DB2 <code class="docutils literal"><span class="pre">TIMESTAMP</span></code> values are mapped onto a Presto <code class="docutils literal"><span class="pre">TIMESTAMP</span> <span class="pre">WITH</span> <span class="pre">TIME</span> <span class="pre">ZONE</span></code> in UTC time zone.</p>
<p>Because JDBC API returns <code class="docutils literal"><span class="pre">TIME</span></code> and <code class="docutils literal"><span class="pre">DATETIME</span></code> values in the JVM time zone,
some values stored in DB2 may not be representable by JDBC due to daylight
savings time and other gaps in the JVM time zone.
For this reason, we recommend setting the JVM time zone to UTC.</p>
</div>
</div>
<div class="section" id="user-impersonation">
<h2><a class="toc-backref" href="#id8">User Impersonation</a><a class="headerlink" href="#user-impersonation" title="Permalink to this headline">#</a></h2>
<p>DB2 connector supports user impersonation. Please see  <a class="reference internal" href="../security/impersonation.html"><span class="doc">User Impersonation</span></a> for more details.</p>
<p>User impersonation can be turned with:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>db2.impersonation-enabled=true
</pre></div>
</div>
<p>User impersonation in DB2 connector is based on <code class="docutils literal"><span class="pre">SET</span> <span class="pre">SESSION_USER</span></code>.
For more details please visit: <a class="reference external" href="https://www.ibm.com/support/knowledgecenter/en/SSCRJT_6.0.0/com.ibm.swg.im.bigsql.commsql.doc/doc/r0011139.html">www.ibm.com/support/knowledgecenter</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Running <code class="docutils literal"><span class="pre">SET</span> <span class="pre">SESSION_USER</span></code> in DB2 requires the user to have a <code class="docutils literal"><span class="pre">SETSESSIONUSER</span></code> privilege.</p>
</div>
</div>
<div class="section" id="table-statistics">
<h2><a class="toc-backref" href="#id9">Table Statistics</a><a class="headerlink" href="#table-statistics" title="Permalink to this headline">#</a></h2>
<p>DB2 connector supports table and column statistics. The statistics are
collected by DB2 Database and retrieved by the connector. To collect
statistics for a table, execute the following statements in DB2 Database.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>CALL SYSPROC.ADMIN_CMD(&#39;RUNSTATS ON TABLE table_name&#39;);
</pre></div>
</div>
<p>The table statistics can be viewed in Presto using <a class="reference internal" href="../sql/show-stats.html"><span class="doc">SHOW STATS</span></a> and
are used for <a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">Cost based optimizations</span></a>.</p>
<div class="section" id="table-statistics-configuration-properties">
<h3><a class="toc-backref" href="#id10">Table Statistics Configuration Properties</a><a class="headerlink" href="#table-statistics-configuration-properties" title="Permalink to this headline">#</a></h3>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="42%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property Name</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.enabled</span></code></td>
<td>Enables table and column statistics.</td>
<td><code class="docutils literal"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">statistics.cache-ttl</span></code></td>
<td>Duration for which table and column statistics are cached.</td>
<td><code class="docutils literal"><span class="pre">0s</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.cache-missing</span></code></td>
<td>Cache the fact that table statistics were not available.</td>
<td><code class="docutils literal"><span class="pre">false</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="db2-database-connector-limitations">
<h2><a class="toc-backref" href="#id11">DB2 Database Connector Limitations</a><a class="headerlink" href="#db2-database-connector-limitations" title="Permalink to this headline">#</a></h2>
<div class="section" id="unsupported-statements">
<h3><a class="toc-backref" href="#id12">Unsupported Statements</a><a class="headerlink" href="#unsupported-statements" title="Permalink to this headline">#</a></h3>
<p>The following SQL statements are not yet supported:</p>
<ul class="simple">
<li><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></li>
<li><a class="reference internal" href="../sql/create-view.html"><span class="doc">CREATE VIEW</span></a></li>
<li><a class="reference internal" href="../sql/drop-view.html"><span class="doc">DROP VIEW</span></a></li>
<li><a class="reference internal" href="../sql/create-schema.html"><span class="doc">CREATE SCHEMA</span></a></li>
<li><a class="reference internal" href="../sql/alter-schema.html"><span class="doc">ALTER SCHEMA</span></a></li>
<li><a class="reference internal" href="../sql/grant.html"><span class="doc">GRANT</span></a></li>
<li><a class="reference internal" href="../sql/revoke.html"><span class="doc">REVOKE</span></a></li>
<li><a class="reference internal" href="../sql/show-grants.html"><span class="doc">SHOW GRANTS</span></a></li>
<li><a class="reference internal" href="../sql/show-roles.html"><span class="doc">SHOW ROLES</span></a></li>
<li><a class="reference internal" href="../sql/show-role-grants.html"><span class="doc">SHOW ROLE GRANTS</span></a></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="starburst-generic-jdbc.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="Starburst Generic JDBC Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="starburst-connectors.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="Starburst Connectors Overview" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>