===================
Okta Authentication
===================

`Okta <https://www.okta.com/>`_ can be used for password authentication for
accessing Presto via HTTPS, including usage of the Web UI as well as the JDBC
driver and any other users of the API.

Similar to the :doc:`LDAP authentication <./ldap>` or the :doc:`password file
authentication <./password-file>`, you need to enable ``PASSWORD``
authentication for the HTTP/HTTPS server in ``etc/config.properties``:

.. code-block:: properties

    http-server.authentication.type=PASSWORD

Okta authentication is very similar to :doc:`LDAP authentication <ldap>`. Please
see the LDAP documentation for generic instructions on configuring the server
and clients to use TLS and authenticate with a username and password.

In addition, you need to specify the authenticator ``okta`` and add the Okta
account URL in ``etc/password-authenticator.properties``.

.. code-block:: properties

    password-authenticator.name=okta
    okta.account-url=https://your_okta_account_name.okta.com

Further configuration properties are optional.

.. list-table:: Okta Authenticator Configuration Properties
  :widths: 15, 80, 5
  :header-rows: 1

  * - Property name
    - Description
    - Default
  * - ``okta.http-connect-timeout``
    - Connection timeout for Okta HTTP calls
    - ``30 s``
  * - ``okta.http-read-timeout``
    - Read timeout for Okta HTTP calls
    - ``30 s``
  * - ``okta.http-write-timeout``
    - Write timeout for Okta HTTP calls
    - ``30 s``
  * - ``okta.account-url``
    - The URL to your Okta account, typically
      https://your_okta_account_name.okta.com
    -
  * - ``okta.session-ttl-refresh-margin``
    - Time window for the Okta authenticator to refresh the Okta session
      token, before it expires
    - ``10 s``


