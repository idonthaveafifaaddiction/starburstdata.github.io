

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>3.1. Installation &mdash; Starburst Enterprise Presto</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Enterprise Presto" href="../index.html"/>
        <link rel="up" title="3. Mission Control" href="../mission-control.html"/>
        <link rel="next" title="3.2. Getting Started with Mission Control" href="getting-started.html"/>
        <link rel="prev" title="3. Mission Control" href="../mission-control.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Enterprise Presto
          

          
          </a>

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">2. Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../mission-control.html">3. Mission Control</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.1. Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-on-aws">Installation on AWS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installation-on-kubernetes">Installation on Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#server-configuration-in-config-properties">Server Configuration in <code class="docutils literal"><span class="pre">config.properties</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#java-runtime-configuration-in-jvm-config">Java Runtime Configuration in <code class="docutils literal"><span class="pre">jvm.config</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html">3.2. Getting Started with Mission Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="data-source-management.html">3.3. Data Source Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="cluster-management.html">3.4. Cluster Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">3.5. Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="user-management.html">3.6. User Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="release-notes.html">3.7. Mission Control Release Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">5. Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">6. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">7. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">8. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">9. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">10. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">11. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">12. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">13. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">14. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">15. Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">16. Release Notes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../404.html">404 - Nothing to See Here</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="https://www.starburstdata.com/">
          <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px;"
          src="../_static/img/starburst-darkbg.png"/></a>
        <span class="optional">
          <a href="../index.html">Starburst Enterprise Presto</a>
          <a href="../versions.html" style="font-size: small;margin-left: 0.5em;">332-e.1 and others</a>
          <a href="https://www.starburstdata.com/oreilly-presto-guide-download/?utm_campaign=O%27Reilly%20Presto%20Book&utm_source=starburst&utm_medium=docs">
            <img class="logo"style="background-color: transparent; border-radius: 0%; width: auto; height: auto ;padding: 0px; margin-left: 0.5em;"
          src="../_static/img/ptdg-banner.png"/></a>
          </span>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../mission-control.html">3. Mission Control</a> &raquo;</li>
      
    <li>3.1. Installation</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation">
<h1>3.1. Installation<a class="headerlink" href="#installation" title="Permalink to this headline">#</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#overview" id="id1">Overview</a></li>
<li><a class="reference internal" href="#installation-on-aws" id="id2">Installation on AWS</a></li>
<li><a class="reference internal" href="#installation-on-kubernetes" id="id3">Installation on Kubernetes</a></li>
<li><a class="reference internal" href="#configuration" id="id4">Configuration</a><ul>
<li><a class="reference internal" href="#server-configuration-in-config-properties" id="id5">Server Configuration in <code class="docutils literal"><span class="pre">config.properties</span></code></a></li>
<li><a class="reference internal" href="#java-runtime-configuration-in-jvm-config" id="id6">Java Runtime Configuration in <code class="docutils literal"><span class="pre">jvm.config</span></code></a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="overview">
<h2><a class="toc-backref" href="#id1">Overview</a><a class="headerlink" href="#overview" title="Permalink to this headline">#</a></h2>
<p>Mission Control consists of a Java backend server accessed via a web front end.
Data is stored in a PostgreSQL database. Mission Control has to run on the same
cluster and infrastructure used for the Starburst Enterprise Presto installation
it controls.</p>
</div>
<div class="section" id="installation-on-aws">
<h2><a class="toc-backref" href="#id2">Installation on AWS</a><a class="headerlink" href="#installation-on-aws" title="Permalink to this headline">#</a></h2>
<p>We provide an Amazon Machine Image (AMI) for Mission Control. You can get the
latest release from Starburst.</p>
<p>With the AMI available to you, <a class="reference external" href="https://aws.amazon.com/premiumsupport/knowledge-center/launch-instance-custom-ami/">launch your EC2 instance</a>
and ensure you keep the following requirements in mind:</p>
<ul class="simple">
<li>Select your region and other account parameters as desired for the deployment
of Mission Control, as well as the overall Presto deployment with coordinator
and workers running in one or more clusters.</li>
<li>Instance type of <code class="docutils literal"><span class="pre">t2.small</span></code> is sufficient.</li>
</ul>
<p>Alternatively you can use our Cloud Formation template file <code class="docutils literal"><span class="pre">cft.yml</span></code> and
create the stack in the web interface or from the command line:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>aws cloudformation create-stack \
--stack-name &quot;mission-control&quot; \
--template-body &quot;file://cft.yaml&quot; \
--parameters \
    ParameterKey=Vpc,ParameterValue=&quot;vpc-123&quot; \
    ParameterKey=Subnet,ParameterValue=&quot;subnet-456&quot; \
    ParameterKey=SecurityGroups,ParameterValue=&quot;sg-xyz&quot; \
    ParameterKey=KeyName,ParameterValue=&quot;MyMCKey&quot; \
    ParameterKey=AppInstanceType,ParameterValue=t2.small \
    ParameterKey=DBInstanceClass,ParameterValue=db.t2.micro \
    ParameterKey=EphemeralDatabase,ParameterValue=yes \
    ParameterKey=AuthenticationTypes,ParameterValue=INTERNAL \
--capabilities CAPABILITY_IAM
</pre></div>
</div>
<p>Once your Mission Control instance is up and running, note down the fully
qualified domain name (host name) and navigate to it in a browser at port 5042 -
<a class="reference external" href="http://hostname:5042">http://hostname:5042</a>. Now you are ready to <a class="reference internal" href="getting-started.html"><span class="doc">proceed to log in and get
started</span></a>.</p>
<p>Mission Control can now manage your data sources and clusters, which replaces
the traditional management with configuration files.  Our <a class="reference internal" href="../aws.html"><span class="doc">Presto AWS
documentation</span></a> contains more detailed information about connecting to the
Presto dashboard and other aspects.</p>
</div>
<div class="section" id="installation-on-kubernetes">
<h2><a class="toc-backref" href="#id3">Installation on Kubernetes</a><a class="headerlink" href="#installation-on-kubernetes" title="Permalink to this headline">#</a></h2>
<p>Mission Control can be run on any Kubernetes cluster, including Azure Kubernetes
Service AKS and Google Kubernetes Engine GKE. It can also be run on other
Kubernetes deployments run and managed by your infrastructure team or from other
public providers.</p>
<p>We provide a Kubernetes operator that includes references to the necessary
Docker containers, helm charts and other resources.</p>
<p>Ensure you have the following files from Starburst at hand:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">postgres.yaml</span></code></li>
<li><code class="docutils literal"><span class="pre">missioncontrol.yaml</span></code></li>
</ul>
<p>Now start your Kubernetes cluster, which you want to use for Mission Control
and your Presto deployment and connect to it with kubectl.</p>
<p>Deploy and start the PostgreSQL backend database.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>kubectl apply -f postgres.yaml
</pre></div>
</div>
<p>Deploy and start the Mission Control server:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>kubectl apply -f missioncontrol.yaml
</pre></div>
</div>
<p>After a short while everything is up and running. Confirm the details of the
service with kubectl.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>kubectl get service/mission-control-service
</pre></div>
</div>
<p>Once the server is up and running, take note of the server URL or IP, and
<a class="reference internal" href="getting-started.html"><span class="doc">proceed to log in and get started</span></a>.</p>
<p>Mission Control can now manage your data sources and clusters, which replaces
the traditional management with configuration files. Our <a class="reference internal" href="../kubernetes.html"><span class="doc">Presto Kubernetes
documentation</span></a> contains contains more detailed information about
connecting to the Presto dashboard and other aspects.</p>
</div>
<div class="section" id="configuration">
<span id="mc-configuration"></span><h2><a class="toc-backref" href="#id4">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<p>The Mission Control application is automatically configured with reasonable
default values, as part of the installation process on AWS and Kubernetes.</p>
<p>The configuration can be updated, and is controlled in two separate files:</p>
<ul class="simple">
<li>general server configuration in <code class="docutils literal"><span class="pre">etc/config.properties</span></code></li>
<li>Java runtime configuration in <code class="docutils literal"><span class="pre">etc/jvm.properties</span></code></li>
</ul>
<div class="section" id="server-configuration-in-config-properties">
<h3><a class="toc-backref" href="#id5">Server Configuration in <code class="docutils literal"><span class="pre">config.properties</span></code></a><a class="headerlink" href="#server-configuration-in-config-properties" title="Permalink to this headline">#</a></h3>
<p>The installation methods for Mission Control automatically include a suitable
configuration file. Following is list of used properties.</p>
<p><code class="docutils literal"><span class="pre">aws.*</span></code></p>
<blockquote>
<div><p>The AWS parameters define the AWS system to use.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>aws.workspace = s3://example/app/workspace
aws.default-vpc = vpc-123
aws.default-subnet = subnet-456
</pre></div>
</div>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">storage.jdbc.url</span></code>, <code class="docutils literal"><span class="pre">storage.jdbc.username</span></code> and <code class="docutils literal"><span class="pre">storage.jdbc.password</span></code>:</p>
<blockquote>
<div>The URL, username and password to the PostgreSQL database used by Mission
Control for configuration and other storage.</div></blockquote>
<p><code class="docutils literal"><span class="pre">authentication.type</span></code> and <code class="docutils literal"><span class="pre">authorization.type</span></code>:</p>
<blockquote>
<div>The sequence of authentication and authorization systems to use. Possible
values are <code class="docutils literal"><span class="pre">INTERNAL</span></code>, <code class="docutils literal"><span class="pre">LDAP</span></code> and <code class="docutils literal"><span class="pre">GOOGLE</span></code>. More information can be
found in the <a class="reference internal" href="security.html"><span class="doc">security section</span></a>.</div></blockquote>
<p><code class="docutils literal"><span class="pre">environment.type</span></code>:</p>
<blockquote>
<div>Determines the environment used for the Presto deployment. Currently needs
<code class="docutils literal"><span class="pre">KUBERNETES</span></code> for Kubernetes-based systems and can be omitted for AWS
deployments.</div></blockquote>
<p><code class="docutils literal"><span class="pre">LdapServerHost</span></code>, <code class="docutils literal"><span class="pre">LdapServerPort</span></code>, <code class="docutils literal"><span class="pre">LdapsEnabled</span></code> and
<code class="docutils literal"><span class="pre">LdapUserBindPattern</span></code>:</p>
<blockquote>
<div>Parameters to define the LDAP server connection to use for LDAP authentication
and authorization.</div></blockquote>
</div>
<div class="section" id="java-runtime-configuration-in-jvm-config">
<h3><a class="toc-backref" href="#id6">Java Runtime Configuration in <code class="docutils literal"><span class="pre">jvm.config</span></code></a><a class="headerlink" href="#java-runtime-configuration-in-jvm-config" title="Permalink to this headline">#</a></h3>
<p>The default configuration for the Java Virtual Machine running the Mission
Control backend is sufficient. If desired it can be adjusted. Changes require a
restart of the application.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>-server
-Xmx1G
-XX:+HeapDumpOnOutOfMemoryError
-XX:+UseGCOverheadLimit
-XX:+ExitOnOutOfMemoryError
-Djdk.attach.allowAttachSelf=true
</pre></div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="getting-started.html" style="box-shadow: none; border: none;" class="btn btn-neutral float-right" title="3.2. Getting Started with Mission Control" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../mission-control.html" style="box-shadow: none; border: none;" class="btn btn-neutral" title="3. Mission Control" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'332',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>