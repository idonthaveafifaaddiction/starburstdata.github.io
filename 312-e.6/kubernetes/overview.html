

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.3. Overview of Presto on Kubernetes &mdash; Starburst Distribution of Presto 312-e.6 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 312-e.6 Documentation" href="../index.html"/>
        <link rel="up" title="6. Presto 312e on Kubernetes" href="../kubernetes.html"/>
        <link rel="next" title="6.4. Prerequisites" href="prerequisites.html"/>
        <link rel="prev" title="6.2. Deploy Presto on Kubernetes from DockerHub" href="online_deploy.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                312-e.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. License and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">3. Running Presto in a Docker container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Presto on Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../azure.html">5. Presto on Microsoft Azure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../kubernetes.html">6. Presto 312e on Kubernetes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="quickstart.html">6.1. Getting Started: A Quick Guide to Presto on Kubernetes</a></li>
<li class="toctree-l2"><a class="reference internal" href="online_deploy.html">6.2. Deploy Presto on Kubernetes from DockerHub</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">6.3. Overview of Presto on Kubernetes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#releases-software">Releases &amp; Software</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#presto-0-312-e">Presto 0.312-e</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#deployment-options">Deployment Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#presto-cloud-architecture">Presto Cloud Architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#general-components-and-descriptions">General Components and Descriptions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#labels">Labels</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#license">License</a></li>
<li class="toctree-l3"><a class="reference internal" href="#presto-support-options">Presto Support Options</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="prerequisites.html">6.4. Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="presto_resource.html">6.5. Presto Kubernetes resource</a></li>
<li class="toctree-l2"><a class="reference internal" href="query.html">6.6. Querying Presto</a></li>
<li class="toctree-l2"><a class="reference internal" href="gke.html">6.7. Presto on Google Kubernetes Engine</a></li>
<li class="toctree-l2"><a class="reference internal" href="customizing_presto_image.html">6.8. Customizing The Presto Docker Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpa.html">6.9. Horizontal scaling of a Presto cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html">6.10. Release notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation-rpm.html">7. Presto RPM Installation using Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/deployment.html">8. Presto Tarball Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">9. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">10. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">11. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">12. Query Optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../connector.html">13. Connectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">18. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">19. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">20. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../kubernetes.html">6. Presto 312e on Kubernetes</a> &raquo;</li>
      
    <li>6.3. Overview of Presto on Kubernetes</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/kubernetes/overview.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview-of-presto-on-kubernetes">
<h1>6.3. Overview of Presto on Kubernetes</h1>
<div class="section" id="releases-software">
<h2>Releases &amp; Software</h2>
<div class="section" id="presto-0-312-e">
<h3>Presto 0.312-e</h3>
<p>Starburst Presto on Kubernetes is based on version 312e. 312e includes many
additional features and patches to the prestosql/presto version 312.
Notably, Presto 312e, includes the state of the art cost based optimizer for fast query results.</p>
<p>For more information on Presto <a class="reference external" href="http://docs.starburstdata.com/latest/release/release-312-e.html">312e</a>, refer to our documentation.</p>
</div>
</div>
<div class="section" id="deployment-options">
<h2>Deployment Options</h2>
<p><a class="reference external" href="https://cloud.google.com/kubernetes-engine/">Google Kubernetes Engine</a> is certified by Starburst to work with Presto on Kubernetes,
for more information on running Presto on Google Kubernetes Engine, refer to <a class="reference internal" href="gke.html"><span class="doc">Presto on Google Kubernetes Engine</span></a>.
Additionally Starburst Presto on Kubernetes can be used on any modern Kubernetes cluster implementations (both on-prem and in the cloud).
It is also possible to run Presto Kubernetes on Minikube for testing or development purposes.</p>
</div>
<div class="section" id="presto-cloud-architecture">
<h2>Presto Cloud Architecture</h2>
<div class="section" id="general-components-and-descriptions">
<h3>General Components and Descriptions</h3>
<p>Starburst Presto on Kubernetes consists of various components and Kubernetes resources that form a Presto Kubernetes cluster.
The following terms describe each component of the Presto Kubernetes architecture in more detail:</p>
<p><strong>Presto Kubernetes Custom Resource Definition</strong></p>
<p>Presto Kubernetes Custom Resource Definition (CRD) defines resources of Presto type
within a Kubernetes namespace. For more information on Kubernetes Custom Resources,
refer to <a class="reference external" href="https://kubernetes.io/docs/concepts/extend-kubernetes/api-extension/custom-resources/#custom-resources">Custom Resources</a>.</p>
<p><strong>Presto Kubernetes resources</strong></p>
<p>Presto Kubernetes resources are instances of Presto Kubernetes Custom Resource.
Each instance of a Presto Kubernetes resource represents a Presto cluster.
Presto Kubernetes resource contains various parameters that specify Presto, connector
and Kubernetes properties. For more information on Presto Kubernetes resource, refer
to <a class="reference internal" href="presto_resource.html"><span class="doc">Presto Kubernetes resource</span></a>.</p>
<p><strong>Presto Operator</strong></p>
<p>Presto Operator is a Kubernetes Operator pod that orchestrates Presto clusters.
Presto Operator continuously monitors Presto Kubernetes resources.
Presto Operator will create or remove Presto clusters when
Presto Kubernetes resource is created or removed.
Any changes to existing Presto Kubernetes resource will be picked
up by the Presto Operator which will update the corresponding Presto cluster
accordingly. For more information on Kubernetes Operators, refer to
<a class="reference external" href="https://coreos.com/operators/">Kubernetes Operators</a>.</p>
<p><strong>Presto service account</strong></p>
<p>The account used by Presto Operator to make Kubernetes API calls.</p>
<p><strong>Presto service role</strong></p>
<p>The role that is bound to Presto service account. The role must have enough
privileges to manage Presto clusters.</p>
<p><strong>Presto Coordinator</strong></p>
<p>A Presto pod that is responsible for parsing the SQL queries as well as
analyzing, planning, and scheduling their execution.
Presto Coordinator pods are part of Kubernetes Deployment that keeps
at most a single Presto Coordinator pod running at the same time.
Presto Coordinator pod will be automatically recreated on
Presto Coordinator failure or unresponsiveness thus providing
basic Presto high availability.</p>
<p><strong>Presto Worker</strong></p>
<p>Presto pods that are responsible for performing particular query tasks. Number of
Presto workers can be adjusted statically by specifying the <code class="docutils literal"><span class="pre">worker.count</span></code> property (see <a class="reference internal" href="presto_resource.html"><span class="doc">Presto Kubernetes resource</span></a>)
or automatically via Kubernetes <a class="reference internal" href="hpa.html"><span class="doc">Horizontal scaling of a Presto cluster</span></a>.</p>
<p><strong>Presto Coordinator Service</strong></p>
<p>A Kubernetes <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/service/">Service</a>
that delegates requests to the Presto Coordinator pod. Presto Coordinator Service
is the frontend of a Presto cluster which accepts queries and exposes the
Presto Coordinator GUI.</p>
<p><strong>Presto Network Policy</strong></p>
<p>A Kubernetes <a class="reference external" href="https://kubernetes.io/docs/concepts/services-networking/network-policies/">Network Policy</a>
that only allows inbound traffic to Presto Worker pods from the Presto Coordinator pod.
Support for Kubernetes Network Policies might need to be enabled in your Kubernetes cluster.</p>
<p><strong>Metastore</strong></p>
<p>A Hive Metastore pod that is running when Presto cluster is configured to use an internal Metastore.</p>
<p><strong>PostgreSQL</strong></p>
<p>A PostgreSQL pod that is running when Presto cluster is configured to use
an internal Metastore with an internal ephemeral Metastore database.</p>
</div>
<div class="section" id="labels">
<h3>Labels</h3>
<p id="id1">All Presto Kubernetes components are labelled so that it’s easy to write selectors
in order to match them. Those labels are:</p>
<ul class="simple">
<li><code class="code docutils literal"><span class="pre">instance:</span> <span class="pre">CLUSTER_NAME_UUID</span></code> – <code class="code docutils literal"><span class="pre">CLUSTER_NAME_UUID</span></code> is the cluster
name with a unique suffix. <code class="code docutils literal"><span class="pre">CLUSTER_NAME_UUID</span></code> can be overridden
via the <code class="code docutils literal"><span class="pre">nameOverride</span></code> <a class="reference internal" href="presto_resource.html"><span class="doc">Presto Kubernetes resource</span></a> property.</li>
<li><code class="code docutils literal"><span class="pre">role:</span> <span class="pre">ROLE_NAME</span></code> – <code class="code docutils literal"><span class="pre">ROLE_NAME</span></code> can be one of:<ul>
<li><code class="code docutils literal"><span class="pre">catalogs</span></code> – specifies catalogs <em>ConfigMap</em></li>
<li><code class="code docutils literal"><span class="pre">configuration</span></code> – specifies configuration <em>ConfigMap</em></li>
<li><code class="code docutils literal"><span class="pre">coordinator</span></code> – specifies Presto Coordinator related components</li>
<li><code class="code docutils literal"><span class="pre">worker</span></code> – specifies Presto Worker related components</li>
<li><code class="code docutils literal"><span class="pre">hive-metastore</span></code> – specifies Hive Metastore related components</li>
<li><code class="code docutils literal"><span class="pre">hive-postgresql</span></code> – specifies PostgreSQL (for Hive Metastore) related components</li>
<li><code class="code docutils literal"><span class="pre">prometheus-coordinator</span></code> – specifies Prometheus metrics endpoint for Presto Coordinator</li>
<li><code class="code docutils literal"><span class="pre">prometheus-worker</span></code> – specifies Prometheus metrics endpoint for Presto Workers</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="license">
<h2>License</h2>
<p>The following features require a valid Starburst Enterprise license:</p>
<blockquote>
<div><ul class="simple">
<li>Graceful worker scale-down</li>
<li>Autoscaling</li>
<li>Presto pods with more than 8 cores</li>
<li>Presto pods with more than 64GB of RAM</li>
</ul>
</div></blockquote>
<p>To obtain a Starburst Enterprise Presto licence please contact us
via <a class="reference external" href="https://www.starburstdata.com/presto-enterprise">https://www.starburstdata.com/presto-enterprise</a> or drop an email
at <a class="reference external" href="mailto:hello&#37;&#52;&#48;starburstdata&#46;com">hello<span>&#64;</span>starburstdata<span>&#46;</span>com</a>.</p>
</div>
<div class="section" id="presto-support-options">
<h2>Presto Support Options</h2>
<p>At Starburst, the Presto company, we pride ourselves on being <em>the</em> Presto experts. Need support
for your organization’s production and development environments for Presto?
We have got you covered with 24x7 support as part of our Enterprise Subscription.</p>
<p>Contact us for more information about our <a class="reference external" href="https://www.starburstdata.com/our-offerings/">support offerings</a> and explore our other <a class="reference external" href="https://www.starburstdata.com/our-offerings/consulting-training/">services</a> on our website.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="prerequisites.html" class="btn btn-neutral float-right" title="6.4. Prerequisites" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="online_deploy.html" class="btn btn-neutral" title="6.2. Deploy Presto on Kubernetes from DockerHub" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'312-e.6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>