

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>13.27. Teradata Connector &mdash; Starburst Distribution of Presto 312-e.11 Documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/starburst.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Starburst Distribution of Presto 312-e.11 Documentation" href="../index.html"/>
        <link rel="up" title="13. Connectors" href="../connector.html"/>
        <link rel="next" title="13.28. Thrift Connector" href="thrift.html"/>
        <link rel="prev" title="13.26. System Connector" href="system.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Starburst Distribution of Presto
          

          
          </a>

          
            
            
              <div class="version">
                312-e.11
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../system-requirements.html">2. License and System Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">3. Running Presto in a Docker container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws.html">4. Presto on Amazon Web Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../azure.html">5. Presto on Microsoft Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes.html">6. Presto 312e on Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation-rpm.html">7. Presto RPM Installation using Presto Admin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation/deployment.html">8. Presto Tarball Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../client.html">9. Presto Client Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">10. Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../admin.html">11. Administration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../optimizer.html">12. Query Optimizer</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../connector.html">13. Connectors</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="accumulo.html">13.1. Accumulo Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="alluxio.html">13.2. Alluxio Data Orchestrator</a></li>
<li class="toctree-l2"><a class="reference internal" href="blackhole.html">13.3. Black Hole Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="bigquery.html">13.4. BigQuery Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="cassandra.html">13.5. Cassandra Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="elasticsearch.html">13.6. Elasticsearch Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive.html">13.7. Hive Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-gcs-tutorial.html">13.8. Hive Connector GCS Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-security.html">13.9. Hive Security Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="hive-mapr.html">13.10. Hive MapR Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="jmx.html">13.11. JMX Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka.html">13.12. Kafka Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="kafka-tutorial.html">13.13. Kafka Connector Tutorial</a></li>
<li class="toctree-l2"><a class="reference internal" href="kudu.html">13.14. Kudu Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="localfile.html">13.15. Local File Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">13.16. Memory Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mongodb.html">13.17. MongoDB Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mysql.html">13.18. MySQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="oracle.html">13.19. Oracle Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="phoenix.html">13.20. Phoenix Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="postgresql.html">13.21. PostgreSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redis.html">13.22. Redis Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="redshift.html">13.23. Redshift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="sqlserver.html">13.24. SQL Server Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="generic-jdbc.html">13.25. Generic JDBC Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="system.html">13.26. System Connector</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">13.27. Teradata Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation-and-configuration">Installation and Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l4"><a class="reference internal" href="#plugin-configuration">Plugin Configuration</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#querying-teradata-databases">Querying Teradata Databases</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-concurrency">Configuring Concurrency</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#teradata-concurrency-configuration-properties">Teradata Concurrency Configuration Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#user-impersonation">User Impersonation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#table-statistics">Table Statistics</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#table-statistics-configuration-properties">Table Statistics Configuration Properties</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#teradata-database-connector-limitations">Teradata Database Connector Limitations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#unsupported-statements">Unsupported Statements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="thrift.html">13.28. Thrift Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpcds.html">13.29. TPCDS Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="tpch.html">13.30. TPCH Connector</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../functions.html">14. Functions and Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">15. SQL Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sql.html">16. SQL Statement Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../migration.html">17. Migration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">18. Older Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop.html">19. Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">20. Release Notes</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Starburst Distribution of Presto</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="../connector.html">13. Connectors</a> &raquo;</li>
      
    <li>13.27. Teradata Connector</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="../_sources/connector/teradata.rst.txt" rel="nofollow"> View page source</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="teradata-connector">
<h1>13.27. Teradata Connector</h1>
<p>The Teradata Database connector allows querying and creating tables in an external
Teradata database. This can be used to join data between different systems like
Teradata and Hive, or between different Teradata Database instances.</p>
<p>Presto Teradata Connector supports Teradata 16.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This connector is bundled in Presto Enterprise and requires a license from Starburst.
For more information about Presto Enterprise and Teradata connector or to obtain a free trial,
please contact <a class="reference external" href="mailto:hello&#37;&#52;&#48;starburstdata&#46;com">hello<span>&#64;</span>starburstdata<span>&#46;</span>com</a>.</p>
</div>
<div class="section" id="installation-and-configuration">
<h2>Installation and Configuration</h2>
<div class="section" id="prerequisites">
<h3>Prerequisites</h3>
<p>Any of the below installation and configuration methods require the following artifacts:</p>
<ul class="simple">
<li>Teradata’s JDBC driver, may be obtained from Teradata’s
<a class="reference external" href="https://downloads.teradata.com/download/connectivity/jdbc-driver">downloads.teradata.com</a></li>
<li>Connection details to connect to the Teradata DB, in form of a regular Presto connector config
(e.g. <code class="docutils literal"><span class="pre">teradata.properties</span></code> for a Presto catalog named <code class="docutils literal"><span class="pre">teradata</span></code>).
File should contain the following contents, replacing the connection properties as appropriate for your setup:</li>
</ul>
<div class="highlight-none"><div class="highlight"><pre><span></span>connector.name=teradata
connection-url=jdbc:teradata://HOST
connection-user=USERNAME
connection-password=PASSWORD
</pre></div>
</div>
<p>Please refer to <a class="reference external" href="https://developer.teradata.com/doc/connectivity/jdbc/reference/current/jdbcug_chapter_2.html">Teradata JDBC Driver Documentation</a>
for more information about format and parameters of the JDBC URL supported by the Teradata JDBC Driver.</p>
</div>
<div class="section" id="plugin-configuration">
<h3>Plugin Configuration</h3>
<p>To install the Teradata Database connector manually, use the following directions. You will
need an installation of the Starburst Distribution of Presto and an Teradata JDBC Driver
files (<code class="docutils literal"><span class="pre">terajdbc4.jar</span></code> and <code class="docutils literal"><span class="pre">tdgssconfig.jar</span></code>).</p>
<ol class="arabic simple">
<li>Add the Teradata JDBC Driver JAR files to the Presto <code class="docutils literal"><span class="pre">plugin/teradata</span></code> directory.</li>
<li>Add Presto Teradata catalog properties file (eg. <code class="docutils literal"><span class="pre">teradata.properties</span></code> for a Presto catalog named <code class="docutils literal"><span class="pre">teradata</span></code>).</li>
<li>Perform the above steps on every Presto cluster node.</li>
<li>Restart Presto on every node.</li>
</ol>
</div>
</div>
<div class="section" id="querying-teradata-databases">
<h2>Querying Teradata Databases</h2>
<p>The Teradata connector provides a schema for each Teradata database’s.
Assuming the catalog name is <code class="docutils literal"><span class="pre">teradata</span></code>, you can see the available schemas by running
<code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">SCHEMAS</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">SCHEMAS</span> <span class="k">FROM</span> <span class="n">teradata</span><span class="p">;</span>
</pre></div>
</div>
<p>If you have an Teradata database named <code class="docutils literal"><span class="pre">web</span></code>, you can view the tables they
own by running <code class="docutils literal"><span class="pre">SHOW</span> <span class="pre">TABLES</span></code>:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SHOW</span> <span class="n">TABLES</span> <span class="k">FROM</span> <span class="n">teradata</span><span class="p">.</span><span class="n">web</span><span class="p">;</span>
</pre></div>
</div>
<p>You can see a list of the columns in the <code class="docutils literal"><span class="pre">clicks</span></code> table in <code class="docutils literal"><span class="pre">web</span></code>’s schema
using either of the following:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">DESCRIBE</span> <span class="n">teradata</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
<span class="k">SHOW</span> <span class="n">COLUMNS</span> <span class="k">FROM</span> <span class="n">teradata</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Finally, you can access the <code class="docutils literal"><span class="pre">clicks</span></code> table in <code class="docutils literal"><span class="pre">web</span></code>’s schema:</p>
<div class="highlight-sql"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">teradata</span><span class="p">.</span><span class="n">web</span><span class="p">.</span><span class="n">clicks</span><span class="p">;</span>
</pre></div>
</div>
<p>Your privileges in these schemas are those of the user configured in the
connection properties file. If the user does not have access to these tables,
you will not be able to access them.</p>
</div>
<div class="section" id="configuring-concurrency">
<h2>Configuring Concurrency</h2>
<p>Presto is reading from Teradata Database using multiple parallel JDBC connections.
By default, number of parallel reads is determined automatically based on number of AMPs
available in Teradata.
The parallel reads be configured by using below properties.</p>
<div class="section" id="teradata-concurrency-configuration-properties">
<h3>Teradata Concurrency Configuration Properties</h3>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="42%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property Name</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">teradata.concurrency-type</span></code></td>
<td><dl class="first last docutils">
<dt>Determines the parallelism method. Possible values are:</dt>
<dd><ul class="first last simple">
<li>AMP_BASED - single JDBC connection per Teradata AMP</li>
<li>MANUAL - user configures number of parallel connections</li>
</ul>
</dd>
</dl>
</td>
<td>AMP_BASED</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">teradata.connections-count</span></code></td>
<td>Number of parallel connections, to be used when
<code class="docutils literal"><span class="pre">concurrency-type=MANUAL</span></code> is used. Use <code class="docutils literal"><span class="pre">1</span></code> to disable
parallel read.</td>
<td>Number of AMP in Teradata Database</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="user-impersonation">
<h2>User Impersonation</h2>
<p>Teradata connector supports user impersonation. Please see  <a class="reference internal" href="../security/impersonation.html"><span class="doc">User Impersonation</span></a> for more details.</p>
<p>User impersonation can be turned with:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>teradata.impersonation-enabled=true
</pre></div>
</div>
<p>User impersonation in Teradata connector is based on <code class="docutils literal"><span class="pre">GRANT</span> <span class="pre">CONNECT</span> <span class="pre">THROUGH</span></code>.
For more details please visit: <a class="reference external" href="https://docs.teradata.com/reader/4BqRJU03~k5x8NonLTKSfw/lTM7RvxfqgKEVRrRxXBLkA">docs.teradata.com</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Option <code class="docutils literal"><span class="pre">WITH</span> <span class="pre">TRUST_ONLY</span></code> in <code class="docutils literal"><span class="pre">GRANT</span> <span class="pre">CONNECT</span> <span class="pre">THROUGH</span></code> is not yet supported in Terdata connector.</p>
</div>
</div>
<div class="section" id="table-statistics">
<h2>Table Statistics</h2>
<p>Teradata connector supports table and column statistics. The statistics are
collected by Teradata Database and retrieved by the connector. To collect
statistics for a table, execute the following statements in Teradata Database.
The second statement needs to be repeated for every column you want to collect
statistics for.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>COLLECT SUMMARY STATISTICS ON table_schema.table_name;
COLLECT STATISTICS COLUMN(column_name) ON table_schema.table_name;
</pre></div>
</div>
<p>The table and column statistics can be viewed in Presto using <a class="reference internal" href="../sql/show-stats.html"><span class="doc">SHOW STATS</span></a>
and are used for <a class="reference internal" href="../optimizer/cost-based-optimizations.html"><span class="doc">Cost based optimizations</span></a>.</p>
<div class="section" id="table-statistics-configuration-properties">
<h3>Table Statistics Configuration Properties</h3>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="42%" />
<col width="24%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property Name</th>
<th class="head">Description</th>
<th class="head">Default</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.enabled</span></code></td>
<td>Enables table and column statistics.</td>
<td><code class="docutils literal"><span class="pre">true</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">statistics.cache-ttl</span></code></td>
<td>Duration for which table and column statistics are cached.</td>
<td><code class="docutils literal"><span class="pre">10m</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">statistics.cache-missing</span></code></td>
<td>Cache the fact that table statistics were not available.</td>
<td><code class="docutils literal"><span class="pre">false</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="teradata-database-connector-limitations">
<h2>Teradata Database Connector Limitations</h2>
<div class="section" id="unsupported-statements">
<h3>Unsupported Statements</h3>
<p>The following SQL statements are not yet supported:</p>
<ul class="simple">
<li><a class="reference internal" href="../sql/delete.html"><span class="doc">DELETE</span></a></li>
<li><a class="reference internal" href="../sql/alter-table.html"><span class="doc">ALTER TABLE</span></a></li>
<li><a class="reference internal" href="../sql/create-table.html"><span class="doc">CREATE TABLE</span></a> (<a class="reference internal" href="../sql/create-table-as.html"><span class="doc">CREATE TABLE AS</span></a> is supported)</li>
<li><a class="reference internal" href="../sql/grant.html"><span class="doc">GRANT</span></a></li>
<li><a class="reference internal" href="../sql/revoke.html"><span class="doc">REVOKE</span></a></li>
<li><a class="reference internal" href="../sql/show-grants.html"><span class="doc">SHOW GRANTS</span></a></li>
<li><a class="reference internal" href="../sql/show-roles.html"><span class="doc">SHOW ROLES</span></a></li>
<li><a class="reference internal" href="../sql/show-role-grants.html"><span class="doc">SHOW ROLE GRANTS</span></a></li>
</ul>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="thrift.html" class="btn btn-neutral float-right" title="13.28. Thrift Connector" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="system.html" class="btn btn-neutral" title="13.26. System Connector" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'312-e.11',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>