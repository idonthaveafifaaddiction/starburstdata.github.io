<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Starburst Universe | Optimizing query performance</title>
    <meta name="viewport" content="width=device-width">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Starburst Universe - Optimizing query performance">
    <meta property="og:description" content="Starburst Universe - your hub to all knowledge about Starburst products.">
    <meta property="og:image" content="/assets/img/logo/starburst-reverse.png">

    <link rel="stylesheet" href="/assets/fontawesome/css/all.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="/assets/css/mdb.min.css">
    <link rel="stylesheet" href="/assets/css/highlight.css">
    <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body>
<div class="wrap">
  <header style="padding-top:86px;">
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar">
    <a class="navbar-brand" href="/universe.html">
      <img src="/assets/img/logo/starburst-reverse.png" height="40" alt=" Starburst Universe">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="/sep/index.html">Starburst Enterprise Presto</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/marketplace/index.html">Marketplace deployments</a>
        </li>
        <li class="nav-item">
          <a class="nav-link"  href="/about.html">About</a>
        </li>
      </ul>
    </div>
  </nav>
</header>

<div class="content">
  <div class="row">
    <div class="col-md-3 side-navigation">
      <div class="spacer-60 toc-sticky">
        
        <div>
    <h6 class="overline product-nav-title">Starburst Enterprise Presto</h6>
</div>
<hr />

 
<li >
  <a href="/sep/index.html" >SEP Overview</a>
</li>



 
<li class="active"><a onclick="toggleMenu(this, '#admins');">Platform administrators <i class="fa fa-angle-down" style="float:right;"></i></a></li>
<ul id="admins" class="doc-subnav ">
  
  
  <li >
    <a href="/sep/platform-administrator/index.html" >Home</a>
  </li>
  
  
  
  <li >
    <a href="/sep/platform-administrator/cluster.html" >SEP clusters</a>
  </li>
  
  
  
  <li >
    <a href="/sep/platform-administrator/deploy-update.html" >Deploying and updating SEP</a>
  </li>
  
  
  
  <li >
    <a href="/sep/platform-administrator/performance-tuning.html" >Tuning cluster performance</a>
  </li>
  
  
  
  <li >
    <a href="/sep/platform-administrator/security.html" >Securing SEP</a>
  </li>
  
  
</ul>



 
<li class="active"><a onclick="toggleMenu(this, '#engineers');">Data engineers <i class="fa fa-angle-down" style="float:right;"></i></a></li>
<ul id="engineers" class="doc-subnav ">
  
  
  <li >
    <a href="/sep/data-engineer/index.html" >Home</a>
  </li>
  
  
  
  <li >
    <a href="/sep/data-engineer/catalogs.html" >Catalogs</a>
  </li>
  
  
  
  <li >
    <a href="/sep/data-engineer/custom-connectors.html" >Custom connectors</a>
  </li>
  
  
  
  <li class="active">
    <a href="/sep/data-engineer/query-performance.html" >Query performance</a>
  </li>
  
  
</ul>



 
<li >
  <a href="/data-consumer/index.html" >Data consumers</a>
</li>



 
<li ><a onclick="toggleMenu(this, '#try');">Try SEP <i class="fa fa-angle-down" style="float:right;"></i></a></li>
<ul id="try" class="doc-subnav hidden">
  
  
  <li >
    <a href="/sep/try/index.html" >Overview</a>
  </li>
  
  
  
  <li >
    <a href="/sep/try/any-linux.html" >Any Linux</a>
  </li>
  
  
  
  <li >
    <a href="/sep/try/docker.html" >Docker</a>
  </li>
  
  
  
  <li >
    <a href="/sep/try/k8s.html" >k8s</a>
  </li>
  
  
  
  <li >
    <a href="/sep/try/use-presto.html" >Use Presto</a>
  </li>
  
  
</ul>



        
      </div>
    </div>
    <div class="col-md-9 col-lg-6 spacer-30 docs-content">
      



<div class="breadcrumbs">
  <p>
  
  
    
      <a href="/sep/"
        style="text-transform: uppercase"
      > sep</a> >
    
  
    
      <a href="/sep/data-engineer/"
        style="text-transform: uppercase"
      > data engineer</a> >
    
  
    
      Optimizing query performance
    
  </p>
</div>

      <h1 id="optimizing-query-performance">
        
        
          Optimizing query performance <a href="#optimizing-query-performance" class="titleAnchor">#</a>
        
        
      </h1>
    

<p>Starburst Enterprise for Presto® (SEP) is fast. But did you know that there are still
many opportunities to make it even faster depending on how you write your
queries?</p>

<p>Learn how to use <code class="language-plaintext highlighter-rouge">EXPLAIN</code> and <code class="language-plaintext highlighter-rouge">ANALYZE</code> to improve your query performance in
this training video presented by one of our founders, Martin Traverso. For your
convenience, we’ve divided the video training course up into topic sections, and
provided links to the relevant parts of our documentation below.</p>
      <h2 id="the-query-lifecycle">
        
        
          The query lifecycle <a href="#the-query-lifecycle" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>Knowing what’s happening under the hood in SQL can help you to write queries
that capitalize on possible optimizations and avoid approaches that will cost
you performance. This section provides an overview of what happens as a query is
executed.</p>

<div class="container">
  <div class="row">
    <div class="col-md-6">
       <div class="embed-container">
    <iframe src="https://www.youtube.com/embed/GcS02yTNwC0?start=491&amp;end=1217" width="350" max-height="240" frameborder="0" allowfullscreen="">
    </iframe>
  </div>
    </div>
    <div class="col-md-6">
      Topics:
      <ul>
        <li>Parsing</li>
        <li>Analysis</li>
        <li>Planning</li>
        <li>Optimization</li>
        <li>Scheduling and execution</li>
      </ul>
      <p class="caption">Running time: ~12 min.</p>
    </div>
  </div>
</div><hr />
      <h2 id="the-explain-statement-in-detail">
        
        
          The EXPLAIN statement in detail <a href="#the-explain-statement-in-detail" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>If you want to understand what the SEP engine is basing its decisions on
as it executes a query, you need to use the <code class="language-plaintext highlighter-rouge">EXPLAIN</code> statement. This section
walks you through this very informative tool in detail.</p>

<div class="container">
  <div class="row">
    <div class="col-md-6">
       <div class="embed-container">
    <iframe src="https://www.youtube.com/embed/GcS02yTNwC0?start=1218&amp;end=2469" width="350" max-height="240" frameborder="0" allowfullscreen="">
    </iframe>
  </div>
    </div>
    <div class="col-md-6">
      Topics:
      <ul>
        <li><a href="https://docs.starburstdata.com/latest/sql/explain.html">EXPLAIN</a></li>
        <li>EXPLAIN vs <a href="https://docs.starburstdata.com/latest/sql/explain-analyze.html">EXPLAIN ANALYZE</a></li>
        <li><a href="https://docs.starburstdata.com/latest/admin/dynamic-filtering.html#analysis-and-confirmation">Fragment
            structure, distribution, row layout, estimates and performance stats in EXPLAIN ANALYZE</a></li>
        <li><a href="https://docs.starburstdata.com/latest/admin/properties-exchange.html">Exchanges</a></li>
      </ul>
      Click on the links to read more on that topic in our reference manual.<br /><br />
      <p class="caption">Running time: ~20 min.</p>
    </div>
  </div>
</div><hr />
      <h2 id="general-optimizations">
        
        
          General optimizations <a href="#general-optimizations" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>The content in this section is more technique-oriented, and is a complex
subject. We strongly suggest watching it all the way through thoroughly first to
gain a broad awareness of how you write a query can affect its performance
before trying these on your own. For further reading, we recommend our
<a href="https://docs.starburstdata.com/latest/optimizer/pushdown.html">pushdown</a>
documentation.</p>

<p>The SQL engine relies on table statistics to make decisions on optimizations.
Enabling dynamic filtering can take optimizations even further. We recommend
reading about these powerful features to ensure you are getting the best
performance possible out of your SEP cluster:</p>

<ul>
  <li><a href="https://docs.starburstdata.com/latest/admin/dynamic-filtering.html">Dynamic filtering</a></li>
  <li><a href="https://docs.starburstdata.com/latest/optimizer/statistics">Table statistics</a></li>
</ul>

<div class="container">
  <div class="row">
    <div class="col-md-6">
           <div class="embed-container">
    <iframe src="https://www.youtube.com/embed/GcS02yTNwC0?start=2470&amp;end=5940" width="350" max-height="240" frameborder="0" allowfullscreen="">
    </iframe>
  </div>
    </div>
    <div class="col-md-6">
      Topics:
      <ul>
        <li>Constant folding</li>
        <li>Predicate pushdown</li>
        <li>Predicate pushdown into the Hive connector</li>
        <li>Hive partition pruning</li>
        <li>Hive bucket pruning</li>
        <li>Row group skipping for ORC and Parquet</li>
        <li>Limit, partial limit and aggregation pushdown</li>
        <li>Skew</li>
      </ul>
      <p class="caption">Running time: ~58 min.</p>
    </div>
  </div>
</div>

<p>SEP offers <a href="https://docs.starburstdata.com/latest/admin/properties-optimizer.html">several properties to control how the
optimizer</a> handles certain
operations.</p><hr />
      <h2 id="cost-based-optimizations">
        
        
          Cost-based optimizations <a href="#cost-based-optimizations" class="titleAnchor">#</a>
        
        
      </h2>
    

<p>This section presents on overview of how cost-based optimizations work in SEP,
and provides great context for the following recommended reading:</p>

<ul>
  <li><a href="https://docs.starburstdata.com/latest/optimizer/cost-based-optimizations.html">Cost-based optimizations</a></li>
  <li><a href="https://docs.starburstdata.com/latest/optimizer/cost-in-explain.html?highlight=explain">Cost in EXPLAIN</a></li>
</ul>

<div class="container">
  <div class="row">
    <div class="col-md-6">
       <div class="embed-container">
    <iframe src="https://www.youtube.com/embed/GcS02yTNwC0?start=5941&amp;end=6729" width="350" max-height="240" frameborder="0" allowfullscreen="">
    </iframe>
  </div>
    </div>
    <div class="col-md-6">
      Topics:
      <ul>
        <li>Partitioned and broadcast joins</li>
        <li>Disabling cost-based optimizations</li>
        <li>Join reordering</li>
        <li>Table statistics</li>
        <li>Computing statistics with <a href="https://docs.starburstdata.com/latest/sql/analyze.html">ANALYZE</a></li>
      </ul>
      <p class="caption">Running time: ~13 min.</p>
    </div>
  </div>
</div><hr />

    </div>
    <div class="col-lg-3 toc-styles d-none d-lg-block">
      <div class="spacer-60 toc-sticky">
        <ul><li><a href="#optimizing-query-performance">Optimizing query performance</a><ul><li><a href="#the-query-lifecycle">The query lifecycle</a></li><li><a href="#the-explain-statement-in-detail">The EXPLAIN statement in detail</a></li><li><a href="#general-optimizations">General optimizations</a></li><li><a href="#cost-based-optimizations">Cost-based optimizations</a></li></ul></li></ul>

      </div>
    </div>
</div>
</div>
<footer class="page-footer">
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <p style="font-weight:900">Resources</b></p>
        <ul>
          <li class="footer-item"><a href="https://docs.starburstdata.com/latest/index.html" target="_blank">SEP reference documentation</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/oreilly-presto-guide-download/" target="_blank">Free O'Reilly book - Presto: The Definitive Guide</a></li>
          <li class="footer-item"><a href="https://prestosql.io/broadcast/" target="_blank">Presto Community Broadcast</a></li>
          <li class="footer-item"><a href="https://blog.starburstdata.com/" target="_blank">Starburst blog</a></li>
        </ul>
      </div>
      <div class="col-md-4">
        <p style="font-weight:900">Contact and more</p>
        <ul>
          <li class="footer-item"><a href="https://www.starburstdata.com/weekly-demo-registration/" target="_blank">Join our weekly demos</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/#!" target="_blank">Start a trial</a></li>
          <li class="footer-item"><a href="https://starburstsupport.force.com/s/" target="_blank">Get support</a></li>
          <li class="footer-item"><a href="https://www.starburstdata.com/contact/" target="_blank">Contact us</a></li>
        </ul>
      </div>
      <div class="col-md-4" style="text-align:right;">
        <img src="/assets/img/logo/starburst-reverse.png" height="60" alt=" Starburst Universe" style="margin-bottom:20px;">
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#copyright">Copyright © 2017-2020, Starburst Data</a>
        </li>
        <li class="footer-item" style="padding-right:10px;">
          <a href="/disclaimers.html#trademarks">Trademark information</a>
        </li>
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 center spacer-30">
          <a href="https://twitter.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-twitter"></i></a>
          <a href="https://linkedin.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-linkedin"></i></a>
          <a href="https://www.youtube.com/channel/UCXjkuWSO9CV_cSI3Mvo4a4w" target="_blank" class="footer-icon"><i class="fab fa-youtube"></i></a>
          <a href="https://github.com/starburstdata" target="_blank" class="footer-icon"><i class="fab fa-github"></i></a>
      </div>
    </div>
  </div>
</footer>


  <script type="text/javascript" src="/assets/js/jquery.min.js"></script>
  <script type="text/javascript" src="/assets/js/popper.min.js"></script>
  <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/assets/js/mdb.min.js"></script>
</body>
</html>